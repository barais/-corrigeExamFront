(self.webpackChunkgrade_scope_istic=self.webpackChunkgrade_scope_istic||[]).push([[173],{2384:(Ge,Ue,he)=>{"use strict";he.d(Ue,{z:()=>Ee});var N=he(5861),ee=he(9505),de=he(4687);function ce(R,s,l,d){return new(l||(l=Promise))(function(A,E){function ae(B){try{O(d.next(B))}catch(Ae){E(Ae)}}function ge(B){try{O(d.throw(B))}catch(Ae){E(Ae)}}function O(B){B.done?A(B.value):function p(A){return A instanceof l?A:new l(function(E){E(A)})}(B.value).then(ae,ge)}O((d=d.apply(R,s||[])).next())})}function _e(R,s){var d,p,A,E,l={label:0,sent:function(){if(1&A[0])throw A[1];return A[1]},trys:[],ops:[]};return E={next:ae(0),throw:ae(1),return:ae(2)},"function"==typeof Symbol&&(E[Symbol.iterator]=function(){return this}),E;function ae(O){return function(B){return function ge(O){if(d)throw new TypeError("Generator is already executing.");for(;l;)try{if(d=1,p&&(A=2&O[0]?p.return:O[0]?p.throw||((A=p.return)&&A.call(p),0):p.next)&&!(A=A.call(p,O[1])).done)return A;switch(p=0,A&&(O=[2&O[0],A.value]),O[0]){case 0:case 1:A=O;break;case 4:return l.label++,{value:O[1],done:!1};case 5:l.label++,p=O[1],O=[0];continue;case 7:O=l.ops.pop(),l.trys.pop();continue;default:if(!(A=(A=l.trys).length>0&&A[A.length-1])&&(6===O[0]||2===O[0])){l=0;continue}if(3===O[0]&&(!A||O[1]>A[0]&&O[1]<A[3])){l.label=O[1];break}if(6===O[0]&&l.label<A[1]){l.label=A[1],A=O;break}if(A&&l.label<A[2]){l.label=A[2],l.ops.push(O);break}A[2]&&l.ops.pop(),l.trys.pop();continue}O=s.call(R,l)}catch(B){O=[6,B],p=0}finally{d=A=0}if(5&O[0])throw O[1];return{value:O[0]?O[1]:void 0,done:!0}}([O,B])}}}function dt(R){return[R.schema.primKey].concat(R.schema.indexes).map(function(l){return l.src}).join(",")}function Et(R,s){return new Promise(function(l,d){var p=new FileReader;p.onabort=function(A){return d(new Error("file read aborted"))},p.onerror=function(A){return d(A.target.error)},p.onload=function(A){return l(A.target.result)},"binary"===s?p.readAsArrayBuffer(R):p.readAsText(R)})}function Ot(R,s){if(typeof FileReaderSync>"u")throw new Error("FileReaderSync missing. Reading blobs synchronously requires code to run from within a web worker. Use TSON.encapsulateAsync() to do it from the main thread.");var l=new FileReaderSync;return"binary"===s?l.readAsArrayBuffer(R):l.readAsText(R)}var bt=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function wt(R,s){return R(s={exports:{}},s.exports),s.exports}for(var Te=wt(function(R,s){R.exports=function(){function l(T){return(l="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(b){return typeof b}:function(b){return b&&"function"==typeof Symbol&&b.constructor===Symbol&&b!==Symbol.prototype?"symbol":typeof b})(T)}function d(T,b,F,D,W,Be,Me){try{var Fe=T[Be](Me),me=Fe.value}catch(Kt){return void F(Kt)}Fe.done?b(me):Promise.resolve(me).then(D,W)}function p(T){return function(){var b=this,F=arguments;return new Promise(function(D,W){var Be=T.apply(b,F);function Me(me){d(Be,D,W,Me,Fe,"next",me)}function Fe(me){d(Be,D,W,Me,Fe,"throw",me)}Me(void 0)})}}function A(T,b){if(!(T instanceof b))throw new TypeError("Cannot call a class as a function")}function E(T,b){for(var F=0;F<b.length;F++){var D=b[F];D.enumerable=D.enumerable||!1,D.configurable=!0,"value"in D&&(D.writable=!0),Object.defineProperty(T,D.key,D)}}function ge(T,b,F){return b in T?Object.defineProperty(T,b,{value:F,enumerable:!0,configurable:!0,writable:!0}):T[b]=F,T}function O(T,b){var F=Object.keys(T);if(Object.getOwnPropertySymbols){var D=Object.getOwnPropertySymbols(T);b&&(D=D.filter(function(W){return Object.getOwnPropertyDescriptor(T,W).enumerable})),F.push.apply(F,D)}return F}function B(T){for(var b=1;b<arguments.length;b++){var F=null!=arguments[b]?arguments[b]:{};b%2?O(Object(F),!0).forEach(function(D){ge(T,D,F[D])}):Object.getOwnPropertyDescriptors?Object.defineProperties(T,Object.getOwnPropertyDescriptors(F)):O(Object(F)).forEach(function(D){Object.defineProperty(T,D,Object.getOwnPropertyDescriptor(F,D))})}return T}function Ae(T,b){return function Ne(T){if(Array.isArray(T))return T}(T)||function Ke(T,b){if(Symbol.iterator in Object(T)||"[object Arguments]"===Object.prototype.toString.call(T)){var F=[],D=!0,W=!1,Be=void 0;try{for(var Fe,Me=T[Symbol.iterator]();!(D=(Fe=Me.next()).done)&&(F.push(Fe.value),!b||F.length!==b);D=!0);}catch(me){W=!0,Be=me}finally{try{!D&&null!=Me.return&&Me.return()}finally{if(W)throw Be}}return F}}(T,b)||function Pt(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}()}function mt(T){return function Pe(T){if(Array.isArray(T)){for(var b=0,F=new Array(T.length);b<T.length;b++)F[b]=T[b];return F}}(T)||function Ce(T){if(Symbol.iterator in Object(T)||"[object Arguments]"===Object.prototype.toString.call(T))return Array.from(T)}(T)||function Ut(){throw new TypeError("Invalid attempt to spread non-iterable instance")}()}var ue=function T(b){A(this,T),this.p=new Promise(b)};ue.__typeson__type__="TypesonPromise",typeof Symbol<"u"&&(ue.prototype[Symbol.toStringTag]="TypesonPromise"),ue.prototype.then=function(T,b){var F=this;return new ue(function(D,W){F.p.then(function(Be){D(T?T(Be):Be)}).catch(function(Be){return b?b(Be):Promise.reject(Be)}).then(D,W)})},ue.prototype.catch=function(T){return this.then(null,T)},ue.resolve=function(T){return new ue(function(b){b(T)})},ue.reject=function(T){return new ue(function(b,F){F(T)})},["all","race"].forEach(function(T){ue[T]=function(b){return new ue(function(F,D){Promise[T](b.map(function(W){return W&&W.constructor&&"TypesonPromise"===W.constructor.__typeson__type__?W.p:W})).then(F,D)})}});var xe={}.toString,Ye={}.hasOwnProperty,Xe=Object.getPrototypeOf,Ft=Ye.toString;function P(T,b){return Ie(T)&&"function"==typeof T.then&&(!b||"function"==typeof T.catch)}function h(T){return xe.call(T).slice(8,-1)}function $(T,b){if(!T||"object"!==l(T))return!1;var F=Xe(T);if(!F)return null===b;var D=Ye.call(F,"constructor")&&F.constructor;return"function"!=typeof D?null===b:b===D||null!==b&&Ft.call(D)===Ft.call(b)||"function"==typeof b&&"string"==typeof D.__typeson__type__&&D.__typeson__type__===b.__typeson__type__}function I(T){return!(!T||"Object"!==h(T))&&(!Xe(T)||$(T,Object))}function Ie(T){return T&&"object"===l(T)}function rt(T){return T.replace(/~/g,"~0").replace(/\./g,"~1")}function st(T){return T.replace(/~1/g,".").replace(/~0/g,"~")}function xt(T,b){if(""===b)return T;var F=b.indexOf(".");if(F>-1){var D=T[st(b.slice(0,F))];return void 0===D?void 0:xt(D,b.slice(F+1))}return T[st(b)]}function Dt(T,b,F){if(""===b)return F;var D=b.indexOf(".");return D>-1?Dt(T[st(b.slice(0,D))],b.slice(D+1),F):(T[st(b)]=F,T)}var et=Object.keys,pt=Array.isArray,Mt={}.hasOwnProperty,$t=["type","replaced","iterateIn","iterateUnsetNumeric"];function U(T,b){if(""===T.keypath)return-1;var F=T.keypath.match(/\./g)||0,D=b.keypath.match(/\./g)||0;return F&&(F=F.length),D&&(D=D.length),F>D?-1:F<D?1:T.keypath<b.keypath?-1:T.keypath>b.keypath}var it=function(){function T(b){A(this,T),this.options=b,this.plainObjectReplacers=[],this.nonplainObjectReplacers=[],this.revivers={},this.types={}}return function ae(T,b,F){return b&&E(T.prototype,b),F&&E(T,F),T}(T,[{key:"stringify",value:function(F,D,W,Be){Be=B({},this.options,{},Be,{stringification:!0});var Me=this.encapsulate(F,null,Be);return pt(Me)?JSON.stringify(Me[0],D,W):Me.then(function(Fe){return JSON.stringify(Fe,D,W)})}},{key:"stringifySync",value:function(F,D,W,Be){return this.stringify(F,D,W,B({throwOnBadSyncType:!0},Be,{sync:!0}))}},{key:"stringifyAsync",value:function(F,D,W,Be){return this.stringify(F,D,W,B({throwOnBadSyncType:!0},Be,{sync:!1}))}},{key:"parse",value:function(F,D,W){return W=B({},this.options,{},W,{parse:!0}),this.revive(JSON.parse(F,D),W)}},{key:"parseSync",value:function(F,D,W){return this.parse(F,D,B({throwOnBadSyncType:!0},W,{sync:!0}))}},{key:"parseAsync",value:function(F,D,W){return this.parse(F,D,B({throwOnBadSyncType:!0},W,{sync:!1}))}},{key:"specialTypeNames",value:function(F,D){var W=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return W.returnTypeNames=!0,this.encapsulate(F,D,W)}},{key:"rootTypeName",value:function(F,D){var W=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return W.iterateNone=!0,this.encapsulate(F,D,W)}},{key:"encapsulate",value:function(F,D,W){var Me=(W=B({sync:!0},this.options,{},W)).sync,Fe=this,me={},Kt=[],Wt=[],Zt=[],zt=!("cyclic"in W)||W.cyclic,fn=W.encapsulateObserver,Vt=tt("",F,zt,D||{},Zt);function Ze(le){var c=Object.values(me);if(W.iterateNone)return c.length?c[0]:T.getJSONType(le);if(c.length){if(W.returnTypeNames)return mt(new Set(c));le&&I(le)&&!Mt.call(le,"$types")?le.$types=me:le={$:le,$types:{$:me}}}else Ie(le)&&Mt.call(le,"$types")&&(le={$:le,$types:!0});return!W.returnTypeNames&&le}function De(le,c){return at.apply(this,arguments)}function at(){return at=p(de.mark(function le(c,o){var u;return de.wrap(function(w){for(;;)switch(w.prev=w.next){case 0:return w.next=2,Promise.all(o.map(function(Y){return Y[1].p}));case 2:return u=w.sent,w.next=5,Promise.all(u.map(function(){var Y=p(de.mark(function q(fe){var Q,ve,ke,nt,ze,ft,Oe,re,J;return de.wrap(function(Se){for(;;)switch(Se.prev=Se.next){case 0:if(Q=[],ve=o.splice(0,1),ke=Ae(ve,1),nt=Ae(ke[0],7),ft=nt[4],Oe=nt[5],re=tt(ze=nt[0],fe,nt[2],nt[3],Q,!0,nt[6]),J=$(re,ue),!ze||!J){Se.next=11;break}return Se.next=8,re.p;case 8:return ft[Oe]=Se.sent,Se.abrupt("return",De(c,Q));case 11:return ze?ft[Oe]=re:c=J?re.p:re,Se.abrupt("return",De(c,Q));case 13:case"end":return Se.stop()}},q)}));return function(q){return Y.apply(this,arguments)}}()));case 5:return w.abrupt("return",c);case 6:case"end":return w.stop()}},le)})),at.apply(this,arguments)}function We(le,c,o){Object.assign(le,c);var u=$t.map(function(y){var w=le[y];return delete le[y],w});o(),$t.forEach(function(y,w){le[y]=u[w]})}function tt(le,c,o,u,y,w,Y){var q,fe={},Q=l(c),ve=fn?function(J){var ye=Y||u.type||T.getJSONType(c);fn(Object.assign(J||fe,{keypath:le,value:c,cyclic:o,stateObj:u,promisesData:y,resolvingTypesonPromise:w,awaitingTypesonPromise:$(c,ue)},{type:ye}))}:null;if(["string","boolean","number","undefined"].includes(Q))return void 0===c||"number"===Q&&(isNaN(c)||c===-1/0||c===1/0)?(q=u.replaced?c:gt(le,c,u,y,!1,w,ve))!==c&&(fe={replaced:q}):q=c,ve&&ve(),q;if(null===c)return ve&&ve(),c;if(o&&!u.iterateIn&&!u.iterateUnsetNumeric&&c&&"object"===l(c)){var ke=Kt.indexOf(c);if(!(ke<0))return me[le]="#",ve&&ve({cyclicKeypath:Wt[ke]}),"#"+Wt[ke];!0===o&&(Kt.push(c),Wt.push(le))}var be,je=I(c),nt=pt(c),ze=(je||nt)&&(!Fe.plainObjectReplacers.length||u.replaced)||u.iterateIn?c:gt(le,c,u,y,je||nt,null,ve);if(ze!==c?(q=ze,fe={replaced:ze}):""===le&&$(c,ue)?(y.push([le,c,o,u,void 0,void 0,u.type]),q=c):nt&&"object"!==u.iterateIn||"array"===u.iterateIn?(be=new Array(c.length),fe={clone:be}):(["function","symbol"].includes(l(c))||"toJSON"in c||$(c,ue)||$(c,Promise)||$(c,ArrayBuffer))&&!je&&"object"!==u.iterateIn?q=c:(be={},u.addLength&&(be.length=c.length),fe={clone:be}),ve&&ve(),W.iterateNone)return be||q;if(!be)return q;if(u.iterateIn){var ut=function(ye){var pe={ownKeys:Mt.call(c,ye)};We(u,pe,function(){var Se=le+(le?".":"")+rt(ye),Le=tt(Se,c[ye],!!o,u,y,w);$(Le,ue)?y.push([Se,Le,!!o,u,be,ye,u.type]):void 0!==Le&&(be[ye]=Le)})};for(var ft in c)ut(ft);ve&&ve({endIterateIn:!0,end:!0})}else et(c).forEach(function(J){var ye=le+(le?".":"")+rt(J);We(u,{ownKeys:!0},function(){var Se=tt(ye,c[J],!!o,u,y,w);$(Se,ue)?y.push([ye,Se,!!o,u,be,J,u.type]):void 0!==Se&&(be[J]=Se)})}),ve&&ve({endIterateOwn:!0,end:!0});if(u.iterateUnsetNumeric){for(var Oe=c.length,Bt=function(ye){if(!(ye in c)){var pe=le+(le?".":"")+ye;We(u,{ownKeys:!1},function(){var Le=tt(pe,void 0,!!o,u,y,w);$(Le,ue)?y.push([pe,Le,!!o,u,be,ye,u.type]):void 0!==Le&&(be[ye]=Le)})}},re=0;re<Oe;re++)Bt(re);ve&&ve({endIterateUnsetNumeric:!0,end:!0})}return be}function gt(le,c,o,u,y,w,Y){for(var q=y?Fe.plainObjectReplacers:Fe.nonplainObjectReplacers,fe=q.length;fe--;){var Q=q[fe];if(Q.test(c,o)){var ve=Q.type;if(Fe.revivers[ve]){var ke=me[le];me[le]=ke?[ve].concat(ke):ve}return Object.assign(o,{type:ve,replaced:!0}),!Me&&Q.replaceAsync||Q.replace?(Y&&Y({replacing:!0}),tt(le,Q[Me||!Q.replaceAsync?"replace":"replaceAsync"](c,o),zt&&"readonly",o,u,w,ve)):(Y&&Y({typeDetected:!0}),tt(le,c,zt&&"readonly",o,u,w,ve))}}return c}return Zt.length?Me&&W.throwOnBadSyncType?function(){throw new TypeError("Sync method requested but async result obtained")}():Promise.resolve(De(Vt,Zt)).then(Ze):!Me&&W.throwOnBadSyncType?function(){throw new TypeError("Async method requested but sync result obtained")}():W.stringification&&Me?[Ze(Vt)]:Me?Ze(Vt):Promise.resolve(Ze(Vt))}},{key:"encapsulateSync",value:function(F,D,W){return this.encapsulate(F,D,B({throwOnBadSyncType:!0},W,{sync:!0}))}},{key:"encapsulateAsync",value:function(F,D,W){return this.encapsulate(F,D,B({throwOnBadSyncType:!0},W,{sync:!1}))}},{key:"revive",value:function(F,D){var W=F&&F.$types;if(!W)return F;if(!0===W)return F.$;var Me=(D=B({sync:!0},this.options,{},D)).sync,Fe=[],me={},Kt=!0;W.$&&I(W.$)&&(F=F.$,W=W.$,Kt=!1);var Wt=this;function Zt(at,We){var le=Ae(Wt.revivers[at]||[],1)[0];if(!le)throw new Error("Unregistered type: "+at);return Me&&!("revive"in le)?We:le[Me&&le.revive?"revive":!Me&&le.reviveAsync?"reviveAsync":"revive"](We,me)}var Ht=[];function Vt(at){return $(at,Tt)?void 0:at}var De,Ze=function zt(){var at=[];if(Object.entries(W).forEach(function(We){var tt=Ae(We,2),gt=tt[0],le=tt[1];"#"!==le&&[].concat(le).forEach(function(c){Ae(Wt.revivers[c]||[null,{}],2)[1].plain&&(at.push({keypath:gt,type:c}),delete W[gt])})}),at.length)return at.sort(U).reduce(function We(tt,gt){var le=gt.keypath,c=gt.type;if(P(tt))return tt.then(function(y){return We(y,{keypath:le,type:c})});var o=xt(F,le);if($(o=Zt(c,o),ue))return o.then(function(y){var w=Dt(F,le,y);w===y&&(F=w)});var u=Dt(F,le,o);u===o&&(F=u)},void 0)}();return $(Ze,ue)?De=Ze.then(function(){return F}):(De=function fn(at,We,tt,gt,le){if(!Kt||"$types"!==at){var c=W[at],o=pt(We);if(o||I(We)){var u=o?new Array(We.length):{};for(et(We).forEach(function(ke){var je=fn(at+(at?".":"")+rt(ke),We[ke],tt||u,u,ke),nt=function(be){return $(be,Tt)?u[ke]=void 0:void 0!==be&&(u[ke]=be),be};$(je,ue)?Ht.push(je.then(function(ze){return nt(ze)})):nt(je)}),We=u;Fe.length;){var y=Ae(Fe[0],4),q=y[2],fe=y[3],Q=xt(y[0],y[1]);if(void 0===Q)break;q[fe]=Q,Fe.splice(0,1)}}if(!c)return We;if("#"===c){var ve=xt(tt,We.slice(1));return void 0===ve&&Fe.push([tt,We.slice(1),gt,le]),ve}return[].concat(c).reduce(function ke(je,nt){return $(je,ue)?je.then(function(ze){return ke(ze,nt)}):Zt(nt,je)},We)}}("",F,null),Ht.length&&(De=ue.resolve(De).then(function(at){return ue.all([at].concat(Ht))}).then(function(at){return Ae(at,1)[0]}))),P(De)?Me&&D.throwOnBadSyncType?function(){throw new TypeError("Sync method requested but async result obtained")}():$(De,ue)?De.p.then(Vt):De:!Me&&D.throwOnBadSyncType?function(){throw new TypeError("Async method requested but sync result obtained")}():Me?Vt(De):Promise.resolve(Vt(De))}},{key:"reviveSync",value:function(F,D){return this.revive(F,B({throwOnBadSyncType:!0},D,{sync:!0}))}},{key:"reviveAsync",value:function(F,D){return this.revive(F,B({throwOnBadSyncType:!0},D,{sync:!1}))}},{key:"register",value:function(F,D){return D=D||{},[].concat(F).forEach(function W(Be){var Me=this;if(pt(Be))return Be.map(function(Fe){return W.call(Me,Fe)});Be&&et(Be).forEach(function(Fe){if("#"===Fe)throw new TypeError("# cannot be used as a type name as it is reserved for cyclic objects");if(T.JSON_TYPES.includes(Fe))throw new TypeError("Plain JSON object types are reserved as type names");var me=Be[Fe],Kt=me&&me.testPlainObjects?this.plainObjectReplacers:this.nonplainObjectReplacers,Wt=Kt.filter(function(tt){return tt.type===Fe});if(Wt.length&&(Kt.splice(Kt.indexOf(Wt[0]),1),delete this.revivers[Fe],delete this.types[Fe]),"function"==typeof me){var Zt=me;me={test:function(gt){return gt&&gt.constructor===Zt},replace:function(gt){return B({},gt)},revive:function(gt){return Object.assign(Object.create(Zt.prototype),gt)}}}else if(pt(me)){var Ht=Ae(me,3);me={test:Ht[0],replace:Ht[1],revive:Ht[2]}}if(me&&me.test){var De={type:Fe,test:me.test.bind(me)};me.replace&&(De.replace=me.replace.bind(me)),me.replaceAsync&&(De.replaceAsync=me.replaceAsync.bind(me));var at="number"==typeof D.fallback?D.fallback:D.fallback?0:1/0;if(me.testPlainObjects?this.plainObjectReplacers.splice(at,0,De):this.nonplainObjectReplacers.splice(at,0,De),me.revive||me.reviveAsync){var We={};me.revive&&(We.revive=me.revive.bind(me)),me.reviveAsync&&(We.reviveAsync=me.reviveAsync.bind(me)),this.revivers[Fe]=[We,{plain:me.testPlainObjects}]}this.types[Fe]=me}},this)},this),this}}]),T}(),Tt=function T(){A(this,T)};return Tt.__typeson__type__="TypesonUndefined",it.Undefined=Tt,it.Promise=ue,it.isThenable=P,it.toStringTag=h,it.hasConstructorOf=$,it.isObject=Ie,it.isPlainObject=I,it.isUserObject=function Je(T){if(!T||"Object"!==h(T))return!1;var b=Xe(T);return!b||$(T,Object)||Je(b)},it.escapeKeyPathComponent=rt,it.unescapeKeyPathComponent=st,it.getByKeyPath=xt,it.getJSONType=function St(T){return null===T?"null":Array.isArray(T)?"array":l(T)},it.JSON_TYPES=["null","boolean","number","string","array","object"],it}()}),Xt=wt(function(R,s){R.exports=function(){function l(c){return(l="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(o){return typeof o}:function(o){return o&&"function"==typeof Symbol&&o.constructor===Symbol&&o!==Symbol.prototype?"symbol":typeof o})(c)}function p(c,o){for(var u=0;u<o.length;u++){var y=o[u];y.enumerable=y.enumerable||!1,y.configurable=!0,"value"in y&&(y.writable=!0),Object.defineProperty(c,y.key,y)}}function A(c,o,u){return o in c?Object.defineProperty(c,o,{value:u,enumerable:!0,configurable:!0,writable:!0}):c[o]=u,c}function E(c,o){var u=Object.keys(c);if(Object.getOwnPropertySymbols){var y=Object.getOwnPropertySymbols(c);o&&(y=y.filter(function(w){return Object.getOwnPropertyDescriptor(c,w).enumerable})),u.push.apply(u,y)}return u}function ae(c){return function(u){if(Array.isArray(u))return ge(u)}(c)||function(u){if(typeof Symbol<"u"&&Symbol.iterator in Object(u))return Array.from(u)}(c)||function(u,y){if(u){if("string"==typeof u)return ge(u,y);var w=Object.prototype.toString.call(u).slice(8,-1);if("Object"===w&&u.constructor&&(w=u.constructor.name),"Map"===w||"Set"===w)return Array.from(u);if("Arguments"===w||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(w))return ge(u,y)}}(c)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function ge(c,o){(null==o||o>c.length)&&(o=c.length);for(var u=0,y=new Array(o);u<o;u++)y[u]=c[u];return y}function O(c){return(O="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(u){return typeof u}:function(u){return u&&"function"==typeof Symbol&&u.constructor===Symbol&&u!==Symbol.prototype?"symbol":typeof u})(c)}function B(c,o){if(!(c instanceof o))throw new TypeError("Cannot call a class as a function")}function Ae(c,o){for(var u=0;u<o.length;u++){var y=o[u];y.enumerable=y.enumerable||!1,y.configurable=!0,"value"in y&&(y.writable=!0),Object.defineProperty(c,y.key,y)}}function mt(c,o,u){return o in c?Object.defineProperty(c,o,{value:u,enumerable:!0,configurable:!0,writable:!0}):c[o]=u,c}function Pe(c,o){var u=Object.keys(c);if(Object.getOwnPropertySymbols){var y=Object.getOwnPropertySymbols(c);o&&(y=y.filter(function(w){return Object.getOwnPropertyDescriptor(c,w).enumerable})),u.push.apply(u,y)}return u}function Ne(c){for(var o=1;o<arguments.length;o++){var u=null!=arguments[o]?arguments[o]:{};o%2?Pe(Object(u),!0).forEach(function(y){mt(c,y,u[y])}):Object.getOwnPropertyDescriptors?Object.defineProperties(c,Object.getOwnPropertyDescriptors(u)):Pe(Object(u)).forEach(function(y){Object.defineProperty(c,y,Object.getOwnPropertyDescriptor(u,y))})}return c}function Ce(c,o){return function(y){if(Array.isArray(y))return y}(c)||function(y,w){if(!(typeof Symbol>"u")&&Symbol.iterator in Object(y)){var Y=[],q=!0,fe=!1,Q=void 0;try{for(var ve,ke=y[Symbol.iterator]();!(q=(ve=ke.next()).done)&&(Y.push(ve.value),!w||Y.length!==w);q=!0);}catch(je){fe=!0,Q=je}finally{try{q||null==ke.return||ke.return()}finally{if(fe)throw Q}}return Y}}(c,o)||Ut(c,o)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Ut(c,o){if(c){if("string"==typeof c)return Pt(c,o);var u=Object.prototype.toString.call(c).slice(8,-1);return"Object"===u&&c.constructor&&(u=c.constructor.name),"Map"===u||"Set"===u?Array.from(c):"Arguments"===u||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(u)?Pt(c,o):void 0}}function Pt(c,o){(null==o||o>c.length)&&(o=c.length);for(var u=0,y=new Array(o);u<o;u++)y[u]=c[u];return y}var ue=function c(o){B(this,c),this.p=new Promise(o)};ue.__typeson__type__="TypesonPromise",typeof Symbol<"u"&&(ue.prototype[Symbol.toStringTag]="TypesonPromise"),ue.prototype.then=function(c,o){var u=this;return new ue(function(y,w){u.p.then(function(Y){y(c?c(Y):Y)}).catch(function(Y){return o?o(Y):Promise.reject(Y)}).then(y,w)})},ue.prototype.catch=function(c){return this.then(null,c)},ue.resolve=function(c){return new ue(function(o){o(c)})},ue.reject=function(c){return new ue(function(o,u){u(c)})},["all","race"].forEach(function(c){ue[c]=function(o){return new ue(function(u,y){Promise[c](o.map(function(w){return w&&w.constructor&&"TypesonPromise"===w.constructor.__typeson__type__?w.p:w})).then(u,y)})}});var Jt={}.toString,xe={}.hasOwnProperty,Ye=Object.getPrototypeOf,Xe=xe.toString;function Ft(c,o){return I(c)&&"function"==typeof c.then&&(!o||"function"==typeof c.catch)}function P(c){return Jt.call(c).slice(8,-1)}function h(c,o){if(!c||"object"!==O(c))return!1;var u=Ye(c);if(!u)return null===o;var y=xe.call(u,"constructor")&&u.constructor;return"function"!=typeof y?null===o:o===y||null!==o&&Xe.call(y)===Xe.call(o)||"function"==typeof o&&"string"==typeof y.__typeson__type__&&y.__typeson__type__===o.__typeson__type__}function $(c){return!(!c||"Object"!==P(c))&&(!Ye(c)||h(c,Object))}function I(c){return c&&"object"===O(c)}function Je(c){return c.replace(/~/g,"~0").replace(/\./g,"~1")}function Ie(c){return c.replace(/~1/g,".").replace(/~0/g,"~")}function rt(c,o){if(""===o)return c;var u=o.indexOf(".");if(u>-1){var y=c[Ie(o.slice(0,u))];return void 0===y?void 0:rt(y,o.slice(u+1))}return c[Ie(o)]}function st(c,o,u){if(""===o)return u;var y=o.indexOf(".");return y>-1?st(c[Ie(o.slice(0,y))],o.slice(y+1),u):(c[Ie(o)]=u,c)}function xt(c,o,u){return u?o?o(c):c:(c&&c.then||(c=Promise.resolve(c)),o?c.then(o):c)}var Dt=Object.keys,St=Array.isArray,et={}.hasOwnProperty,pt=["type","replaced","iterateIn","iterateUnsetNumeric"];function Mt(c){return function(){for(var o=[],u=0;u<arguments.length;u++)o[u]=arguments[u];try{return Promise.resolve(c.apply(this,o))}catch(y){return Promise.reject(y)}}}function $t(c,o){if(""===c.keypath)return-1;var u=c.keypath.match(/\./g)||0,y=o.keypath.match(/\./g)||0;return u&&(u=u.length),y&&(y=y.length),u>y?-1:u<y?1:c.keypath<o.keypath?-1:c.keypath>o.keypath}var U=function(){function c(o){B(this,c),this.options=o,this.plainObjectReplacers=[],this.nonplainObjectReplacers=[],this.revivers={},this.types={}}return u=c,y=[{key:"stringify",value:function(u,y,w,Y){Y=Ne(Ne(Ne({},this.options),Y),{},{stringification:!0});var q=this.encapsulate(u,null,Y);return St(q)?JSON.stringify(q[0],y,w):q.then(function(fe){return JSON.stringify(fe,y,w)})}},{key:"stringifySync",value:function(u,y,w,Y){return this.stringify(u,y,w,Ne(Ne({throwOnBadSyncType:!0},Y),{},{sync:!0}))}},{key:"stringifyAsync",value:function(u,y,w,Y){return this.stringify(u,y,w,Ne(Ne({throwOnBadSyncType:!0},Y),{},{sync:!1}))}},{key:"parse",value:function(u,y,w){return w=Ne(Ne(Ne({},this.options),w),{},{parse:!0}),this.revive(JSON.parse(u,y),w)}},{key:"parseSync",value:function(u,y,w){return this.parse(u,y,Ne(Ne({throwOnBadSyncType:!0},w),{},{sync:!0}))}},{key:"parseAsync",value:function(u,y,w){return this.parse(u,y,Ne(Ne({throwOnBadSyncType:!0},w),{},{sync:!1}))}},{key:"specialTypeNames",value:function(u,y){var w=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return w.returnTypeNames=!0,this.encapsulate(u,y,w)}},{key:"rootTypeName",value:function(u,y){var w=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return w.iterateNone=!0,this.encapsulate(u,y,w)}},{key:"encapsulate",value:function(u,y,w){var Y=Mt(function(re,J){return xt(Promise.all(J.map(function(ye){return ye[1].p})),function(ye){return xt(Promise.all(ye.map(Mt(function(pe){var xn,mn,Se=!1,Le=[],nn=Ce(J.splice(0,1),1),vt=Ce(nn[0],7),qt=vt[0],sn=vt[4],ct=vt[5],jt=Oe(qt,pe,vt[2],vt[3],Le,!0,vt[6]),Qt=h(jt,ue);return xn=function(Gt){return Se?Gt:(qt?sn[ct]=jt:re=Qt?jt.p:jt,Y(re,Le))},(mn=function(){if(qt&&Qt)return xt(jt.p,function(Gt){return sn[ct]=Gt,Se=!0,Y(re,Le)})}())&&mn.then?mn.then(xn):xn(mn)}))),function(){return re})})}),q=(w=Ne(Ne({sync:!0},this.options),w)).sync,fe=this,Q={},ve=[],ke=[],je=[],nt=!("cyclic"in w)||w.cyclic,ze=w.encapsulateObserver,be=Oe("",u,nt,y||{},je);function ut(re){var J=Object.values(Q);if(w.iterateNone)return J.length?J[0]:c.getJSONType(re);if(J.length){if(w.returnTypeNames)return function Ke(c){return function(u){if(Array.isArray(u))return Pt(u)}(c)||function(u){if(typeof Symbol<"u"&&Symbol.iterator in Object(u))return Array.from(u)}(c)||Ut(c)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}(new Set(J));re&&$(re)&&!et.call(re,"$types")?re.$types=Q:re={$:re,$types:{$:Q}}}else I(re)&&et.call(re,"$types")&&(re={$:re,$types:!0});return!w.returnTypeNames&&re}function ft(re,J,ye){Object.assign(re,J);var pe=pt.map(function(Se){var Le=re[Se];return delete re[Se],Le});ye(),pt.forEach(function(Se,Le){re[Se]=pe[Le]})}function Oe(re,J,ye,pe,Se,Le,nn){var vt,qt={},rn=O(J),Ve=ze?function(hn){var Yt=nn||pe.type||c.getJSONType(J);ze(Object.assign(hn||qt,{keypath:re,value:J,cyclic:ye,stateObj:pe,promisesData:Se,resolvingTypesonPromise:Le,awaitingTypesonPromise:h(J,ue)},{type:Yt}))}:null;if(["string","boolean","number","undefined"].includes(rn))return void 0===J||Number.isNaN(J)||J===Number.NEGATIVE_INFINITY||J===Number.POSITIVE_INFINITY?(vt=pe.replaced?J:Bt(re,J,pe,Se,!1,Le,Ve))!==J&&(qt={replaced:vt}):vt=J,Ve&&Ve(),vt;if(null===J)return Ve&&Ve(),J;if(ye&&!pe.iterateIn&&!pe.iterateUnsetNumeric&&J&&"object"===O(J)){var sn=ve.indexOf(J);if(!(sn<0))return Q[re]="#",Ve&&Ve({cyclicKeypath:ke[sn]}),"#"+ke[sn];!0===ye&&(ve.push(J),ke.push(re))}var ct,an=$(J),jt=St(J),Qt=(an||jt)&&(!fe.plainObjectReplacers.length||pe.replaced)||pe.iterateIn?J:Bt(re,J,pe,Se,an||jt,null,Ve);if(Qt!==J?(vt=Qt,qt={replaced:Qt}):""===re&&h(J,ue)?(Se.push([re,J,ye,pe,void 0,void 0,pe.type]),vt=J):jt&&"object"!==pe.iterateIn||"array"===pe.iterateIn?(ct=new Array(J.length),qt={clone:ct}):(["function","symbol"].includes(O(J))||"toJSON"in J||h(J,ue)||h(J,Promise)||h(J,ArrayBuffer))&&!an&&"object"!==pe.iterateIn?vt=J:(ct={},pe.addLength&&(ct.length=J.length),qt={clone:ct}),Ve&&Ve(),w.iterateNone)return ct||vt;if(!ct)return vt;if(pe.iterateIn){var Gt=function(Yt){var _t={ownKeys:et.call(J,Yt)};ft(pe,_t,function(){var gn=re+(re?".":"")+Je(Yt),In=Oe(gn,J[Yt],!!ye,pe,Se,Le);h(In,ue)?Se.push([gn,In,!!ye,pe,ct,Yt,pe.type]):void 0!==In&&(ct[Yt]=In)})};for(var Tn in J)Gt(Tn);Ve&&Ve({endIterateIn:!0,end:!0})}else Dt(J).forEach(function(hn){var Yt=re+(re?".":"")+Je(hn);ft(pe,{ownKeys:!0},function(){var _t=Oe(Yt,J[hn],!!ye,pe,Se,Le);h(_t,ue)?Se.push([Yt,_t,!!ye,pe,ct,hn,pe.type]):void 0!==_t&&(ct[hn]=_t)})}),Ve&&Ve({endIterateOwn:!0,end:!0});if(pe.iterateUnsetNumeric){for(var xn=J.length,mn=function(Yt){if(!(Yt in J)){var _t=re+(re?".":"")+Yt;ft(pe,{ownKeys:!1},function(){var gn=Oe(_t,void 0,!!ye,pe,Se,Le);h(gn,ue)?Se.push([_t,gn,!!ye,pe,ct,Yt,pe.type]):void 0!==gn&&(ct[Yt]=gn)})}},Rn=0;Rn<xn;Rn++)mn(Rn);Ve&&Ve({endIterateUnsetNumeric:!0,end:!0})}return ct}function Bt(re,J,ye,pe,Se,Le,nn){for(var vt=Se?fe.plainObjectReplacers:fe.nonplainObjectReplacers,qt=vt.length;qt--;){var rn=vt[qt];if(rn.test(J,ye)){var Ve=rn.type;if(fe.revivers[Ve]){var sn=Q[re];Q[re]=sn?[Ve].concat(sn):Ve}return Object.assign(ye,{type:Ve,replaced:!0}),!q&&rn.replaceAsync||rn.replace?(nn&&nn({replacing:!0}),Oe(re,rn[q||!rn.replaceAsync?"replace":"replaceAsync"](J,ye),nt&&"readonly",ye,pe,Le,Ve)):(nn&&nn({typeDetected:!0}),Oe(re,J,nt&&"readonly",ye,pe,Le,Ve))}}return J}return je.length?q&&w.throwOnBadSyncType?function(){throw new TypeError("Sync method requested but async result obtained")}():Promise.resolve(Y(be,je)).then(ut):!q&&w.throwOnBadSyncType?function(){throw new TypeError("Async method requested but sync result obtained")}():w.stringification&&q?[ut(be)]:q?ut(be):Promise.resolve(ut(be))}},{key:"encapsulateSync",value:function(u,y,w){return this.encapsulate(u,y,Ne(Ne({throwOnBadSyncType:!0},w),{},{sync:!0}))}},{key:"encapsulateAsync",value:function(u,y,w){return this.encapsulate(u,y,Ne(Ne({throwOnBadSyncType:!0},w),{},{sync:!1}))}},{key:"revive",value:function(u,y){var w=u&&u.$types;if(!w)return u;if(!0===w)return u.$;var Y=(y=Ne(Ne({sync:!0},this.options),y)).sync,q=[],fe={},Q=!0;w.$&&$(w.$)&&(u=u.$,w=w.$,Q=!1);var ve=this;function ke(ut,ft){var Oe=Ce(ve.revivers[ut]||[],1)[0];if(!Oe)throw new Error("Unregistered type: "+ut);return Y&&!("revive"in Oe)?ft:Oe[Y&&Oe.revive?"revive":!Y&&Oe.reviveAsync?"reviveAsync":"revive"](ft,fe)}var je=[];function nt(ut){return h(ut,it)?void 0:ut}var ze,be=function(){var ft=[];if(Object.entries(w).forEach(function(Oe){var Bt=Ce(Oe,2),re=Bt[0],J=Bt[1];"#"!==J&&[].concat(J).forEach(function(ye){Ce(ve.revivers[ye]||[null,{}],2)[1].plain&&(ft.push({keypath:re,type:ye}),delete w[re])})}),ft.length)return ft.sort($t).reduce(function Oe(Bt,re){var J=re.keypath,ye=re.type;if(Ft(Bt))return Bt.then(function(Le){return Oe(Le,{keypath:J,type:ye})});var pe=rt(u,J);if(h(pe=ke(ye,pe),ue))return pe.then(function(Le){var nn=st(u,J,Le);nn===Le&&(u=nn)});var Se=st(u,J,pe);Se===pe&&(u=Se)},void 0)}();return h(be,ue)?ze=be.then(function(){return u}):(ze=function ut(ft,Oe,Bt,re,J){if(!Q||"$types"!==ft){var ye=w[ft],pe=St(Oe);if(pe||$(Oe)){var Se=pe?new Array(Oe.length):{};for(Dt(Oe).forEach(function(ct){var an=ut(ft+(ft?".":"")+Je(ct),Oe[ct],Bt||Se,Se,ct),jt=function(Gt){return h(Gt,it)?Se[ct]=void 0:void 0!==Gt&&(Se[ct]=Gt),Gt};h(an,ue)?je.push(an.then(function(Qt){return jt(Qt)})):jt(an)}),Oe=Se;q.length;){var Le=Ce(q[0],4),qt=Le[2],rn=Le[3],Ve=rt(Le[0],Le[1]);if(void 0===Ve)break;qt[rn]=Ve,q.splice(0,1)}}if(!ye)return Oe;if("#"===ye){var sn=rt(Bt,Oe.slice(1));return void 0===sn&&q.push([Bt,Oe.slice(1),re,J]),sn}return[].concat(ye).reduce(function ct(an,jt){return h(an,ue)?an.then(function(Qt){return ct(Qt,jt)}):ke(jt,an)},Oe)}}("",u,null),je.length&&(ze=ue.resolve(ze).then(function(ut){return ue.all([ut].concat(je))}).then(function(ut){return Ce(ut,1)[0]}))),Ft(ze)?Y&&y.throwOnBadSyncType?function(){throw new TypeError("Sync method requested but async result obtained")}():h(ze,ue)?ze.p.then(nt):ze:!Y&&y.throwOnBadSyncType?function(){throw new TypeError("Async method requested but sync result obtained")}():Y?nt(ze):Promise.resolve(nt(ze))}},{key:"reviveSync",value:function(u,y){return this.revive(u,Ne(Ne({throwOnBadSyncType:!0},y),{},{sync:!0}))}},{key:"reviveAsync",value:function(u,y){return this.revive(u,Ne(Ne({throwOnBadSyncType:!0},y),{},{sync:!1}))}},{key:"register",value:function(u,y){return y=y||{},[].concat(u).forEach(function w(Y){var q=this;if(St(Y))return Y.map(function(fe){return w.call(q,fe)});Y&&Dt(Y).forEach(function(fe){if("#"===fe)throw new TypeError("# cannot be used as a type name as it is reserved for cyclic objects");if(c.JSON_TYPES.includes(fe))throw new TypeError("Plain JSON object types are reserved as type names");var Q=Y[fe],ve=Q&&Q.testPlainObjects?this.plainObjectReplacers:this.nonplainObjectReplacers,ke=ve.filter(function(ft){return ft.type===fe});if(ke.length&&(ve.splice(ve.indexOf(ke[0]),1),delete this.revivers[fe],delete this.types[fe]),"function"==typeof Q){var je=Q;Q={test:function(Oe){return Oe&&Oe.constructor===je},replace:function(Oe){return Ne({},Oe)},revive:function(Oe){return Object.assign(Object.create(je.prototype),Oe)}}}else if(St(Q)){var nt=Ce(Q,3);Q={test:nt[0],replace:nt[1],revive:nt[2]}}if(Q&&Q.test){var ze={type:fe,test:Q.test.bind(Q)};Q.replace&&(ze.replace=Q.replace.bind(Q)),Q.replaceAsync&&(ze.replaceAsync=Q.replaceAsync.bind(Q));var be="number"==typeof y.fallback?y.fallback:y.fallback?0:Number.POSITIVE_INFINITY;if(Q.testPlainObjects?this.plainObjectReplacers.splice(be,0,ze):this.nonplainObjectReplacers.splice(be,0,ze),Q.revive||Q.reviveAsync){var ut={};Q.revive&&(ut.revive=Q.revive.bind(Q)),Q.reviveAsync&&(ut.reviveAsync=Q.reviveAsync.bind(Q)),this.revivers[fe]=[ut,{plain:Q.testPlainObjects}]}this.types[fe]=Q}},this)},this),this}}],y&&Ae(u.prototype,y),c;var u,y}(),it=function c(){B(this,c)};it.__typeson__type__="TypesonUndefined",U.Undefined=it,U.Promise=ue,U.isThenable=Ft,U.toStringTag=P,U.hasConstructorOf=h,U.isObject=I,U.isPlainObject=$,U.isUserObject=function c(o){if(!o||"Object"!==P(o))return!1;var u=Ye(o);return!u||h(o,Object)||c(u)},U.escapeKeyPathComponent=Je,U.unescapeKeyPathComponent=Ie,U.getByKeyPath=rt,U.getJSONType=function(o){return null===o?"null":Array.isArray(o)?"array":O(o)},U.JSON_TYPES=["null","boolean","number","string","array","object"];for(var Tt={userObject:{test:function(o,u){return U.isUserObject(o)},replace:function(o){return function(y){for(var w=1;w<arguments.length;w++){var Y=null!=arguments[w]?arguments[w]:{};w%2?E(Object(Y),!0).forEach(function(q){A(y,q,Y[q])}):Object.getOwnPropertyDescriptors?Object.defineProperties(y,Object.getOwnPropertyDescriptors(Y)):E(Object(Y)).forEach(function(q){Object.defineProperty(y,q,Object.getOwnPropertyDescriptor(Y,q))})}return y}({},o)},revive:function(o){return o}}},T=[{arrayNonindexKeys:{testPlainObjects:!0,test:function(o,u){return!!Array.isArray(o)&&(Object.keys(o).some(function(y){return String(Number.parseInt(y))!==y})&&(u.iterateIn="object",u.addLength=!0),!0)},replace:function(o,u){return u.iterateUnsetNumeric=!0,o},revive:function(o){if(Array.isArray(o))return o;var u=[];return Object.keys(o).forEach(function(y){u[y]=o[y]}),u}}},{sparseUndefined:{test:function(o,u){return void 0===o&&!1===u.ownKeys},replace:function(o){return 0},revive:function(o){}}}],b={undef:{test:function(o,u){return void 0===o&&(u.ownKeys||!("ownKeys"in u))},replace:function(o){return 0},revive:function(o){return new U.Undefined}}},F={StringObject:{test:function(o){return"String"===U.toStringTag(o)&&"object"===l(o)},replace:function(o){return String(o)},revive:function(o){return new String(o)}},BooleanObject:{test:function(o){return"Boolean"===U.toStringTag(o)&&"object"===l(o)},replace:function(o){return!!o},revive:function(o){return new Boolean(o)}},NumberObject:{test:function(o){return"Number"===U.toStringTag(o)&&"object"===l(o)},replace:function(o){return Number(o)},revive:function(o){return new Number(o)}}},D=[{nan:{test:function(o){return Number.isNaN(o)},replace:function(o){return"NaN"},revive:function(o){return Number.NaN}}},{infinity:{test:function(o){return o===Number.POSITIVE_INFINITY},replace:function(o){return"Infinity"},revive:function(o){return Number.POSITIVE_INFINITY}}},{negativeInfinity:{test:function(o){return o===Number.NEGATIVE_INFINITY},replace:function(o){return"-Infinity"},revive:function(o){return Number.NEGATIVE_INFINITY}}}],W={date:{test:function(o){return"Date"===U.toStringTag(o)},replace:function(o){var u=o.getTime();return Number.isNaN(u)?"NaN":u},revive:function(o){return"NaN"===o?new Date(Number.NaN):new Date(o)}}},Be={regexp:{test:function(o){return"RegExp"===U.toStringTag(o)},replace:function(o){return{source:o.source,flags:(o.global?"g":"")+(o.ignoreCase?"i":"")+(o.multiline?"m":"")+(o.sticky?"y":"")+(o.unicode?"u":"")}},revive:function(o){return new RegExp(o.source,o.flags)}}},Me={map:{test:function(o){return"Map"===U.toStringTag(o)},replace:function(o){return ae(o.entries())},revive:function(o){return new Map(o)}}},Fe={set:{test:function(o){return"Set"===U.toStringTag(o)},replace:function(o){return ae(o.values())},revive:function(o){return new Set(o)}}},me="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",Kt=new Uint8Array(256),Wt=0;Wt<64;Wt++)Kt[me.charCodeAt(Wt)]=Wt;var Zt=function(o,u,y){null==y&&(y=o.byteLength);for(var w=new Uint8Array(o,u||0,y),Y=w.length,q="",fe=0;fe<Y;fe+=3)q+=me[w[fe]>>2],q+=me[(3&w[fe])<<4|w[fe+1]>>4],q+=me[(15&w[fe+1])<<2|w[fe+2]>>6],q+=me[63&w[fe+2]];return Y%3==2?q=q.slice(0,-1)+"=":Y%3==1&&(q=q.slice(0,-2)+"=="),q},zt=function(o){var u,y,w,Y,q=o.length,fe=.75*o.length,Q=0;"="===o[o.length-1]&&(fe--,"="===o[o.length-2]&&fe--);for(var ve=new ArrayBuffer(fe),ke=new Uint8Array(ve),je=0;je<q;je+=4)u=Kt[o.charCodeAt(je)],y=Kt[o.charCodeAt(je+1)],w=Kt[o.charCodeAt(je+2)],Y=Kt[o.charCodeAt(je+3)],ke[Q++]=u<<2|y>>4,ke[Q++]=(15&y)<<4|w>>2,ke[Q++]=(3&w)<<6|63&Y;return ve},Ht={arraybuffer:{test:function(o){return"ArrayBuffer"===U.toStringTag(o)},replace:function(o,u){u.buffers||(u.buffers=[]);var y=u.buffers.indexOf(o);return y>-1?{index:y}:(u.buffers.push(o),Zt(o))},revive:function(o,u){if(u.buffers||(u.buffers=[]),"object"===l(o))return u.buffers[o.index];var y=zt(o);return u.buffers.push(y),y}}},fn=typeof self>"u"?bt:self,Vt={};["Int8Array","Uint8Array","Uint8ClampedArray","Int16Array","Uint16Array","Int32Array","Uint32Array","Float32Array","Float64Array"].forEach(function(c){var o=c,u=fn[o];u&&(Vt[c.toLowerCase()]={test:function(w){return U.toStringTag(w)===o},replace:function(w,Y){var q=w.buffer,fe=w.byteOffset,Q=w.length;Y.buffers||(Y.buffers=[]);var ve=Y.buffers.indexOf(q);return ve>-1?{index:ve,byteOffset:fe,length:Q}:(Y.buffers.push(q),{encoded:Zt(q),byteOffset:fe,length:Q})},revive:function(w,Y){Y.buffers||(Y.buffers=[]);var q,fe=w.byteOffset,Q=w.length;return"index"in w?q=Y.buffers[w.index]:(q=zt(w.encoded),Y.buffers.push(q)),new u(q,fe,Q)}})});var Ze={dataview:{test:function(o){return"DataView"===U.toStringTag(o)},replace:function(o,u){var y=o.buffer,w=o.byteOffset,Y=o.byteLength;u.buffers||(u.buffers=[]);var q=u.buffers.indexOf(y);return q>-1?{index:q,byteOffset:w,byteLength:Y}:(u.buffers.push(y),{encoded:Zt(y),byteOffset:w,byteLength:Y})},revive:function(o,u){u.buffers||(u.buffers=[]);var y,w=o.byteOffset,Y=o.byteLength;return"index"in o?y=u.buffers[o.index]:(y=zt(o.encoded),u.buffers.push(y)),new DataView(y,w,Y)}}},De={IntlCollator:{test:function(o){return U.hasConstructorOf(o,Intl.Collator)},replace:function(o){return o.resolvedOptions()},revive:function(o){return new Intl.Collator(o.locale,o)}},IntlDateTimeFormat:{test:function(o){return U.hasConstructorOf(o,Intl.DateTimeFormat)},replace:function(o){return o.resolvedOptions()},revive:function(o){return new Intl.DateTimeFormat(o.locale,o)}},IntlNumberFormat:{test:function(o){return U.hasConstructorOf(o,Intl.NumberFormat)},replace:function(o){return o.resolvedOptions()},revive:function(o){return new Intl.NumberFormat(o.locale,o)}}};function at(c){for(var o=new Uint8Array(c.length),u=0;u<c.length;u++)o[u]=c.charCodeAt(u);return o.buffer}var We={file:{test:function(o){return"File"===U.toStringTag(o)},replace:function(o){var u=new XMLHttpRequest;if(u.overrideMimeType("text/plain; charset=x-user-defined"),u.open("GET",URL.createObjectURL(o),!1),u.send(),200!==u.status&&0!==u.status)throw new Error("Bad File access: "+u.status);return{type:o.type,stringContents:u.responseText,name:o.name,lastModified:o.lastModified}},revive:function(o){var u=o.name,y=o.type,Y=o.lastModified;return new File([at(o.stringContents)],u,{type:y,lastModified:Y})},replaceAsync:function(o){return new U.Promise(function(u,y){var w=new FileReader;w.addEventListener("load",function(){u({type:o.type,stringContents:w.result,name:o.name,lastModified:o.lastModified})}),w.addEventListener("error",function(){y(w.error)}),w.readAsBinaryString(o)})}}},tt={bigint:{test:function(o){return"bigint"==typeof o},replace:function(o){return String(o)},revive:function(o){return BigInt(o)}}},gt={bigintObject:{test:function(o){return"object"===l(o)&&U.hasConstructorOf(o,BigInt)},replace:function(o){return String(o)},revive:function(o){return new Object(BigInt(o))}}},le={cryptokey:{test:function(o){return"CryptoKey"===U.toStringTag(o)&&o.extractable},replaceAsync:function(o){return new U.Promise(function(u,y){crypto.subtle.exportKey("jwk",o).catch(function(w){y(w)}).then(function(w){u({jwk:w,algorithm:o.algorithm,usages:o.usages})})})},revive:function(o){return crypto.subtle.importKey("jwk",o.jwk,o.algorithm,!0,o.usages)}}};return[Tt,b,T,F,D,W,Be,{imagedata:{test:function(o){return"ImageData"===U.toStringTag(o)},replace:function(o){return{array:ae(o.data),width:o.width,height:o.height}},revive:function(o){return new ImageData(new Uint8ClampedArray(o.array),o.width,o.height)}}},{imagebitmap:{test:function(o){return"ImageBitmap"===U.toStringTag(o)||o&&o.dataset&&"ImageBitmap"===o.dataset.toStringTag},replace:function(o){var u=document.createElement("canvas");return u.getContext("2d").drawImage(o,0,0),u.toDataURL()},revive:function(o){var u=document.createElement("canvas"),y=u.getContext("2d"),w=document.createElement("img");return w.addEventListener("load",function(){y.drawImage(w,0,0)}),w.src=o,u},reviveAsync:function(o){var u=document.createElement("canvas"),y=u.getContext("2d"),w=document.createElement("img");return w.addEventListener("load",function(){y.drawImage(w,0,0)}),w.src=o,createImageBitmap(u)}}},We,{file:We.file,filelist:{test:function(o){return"FileList"===U.toStringTag(o)},replace:function(o){for(var u=[],y=0;y<o.length;y++)u[y]=o.item(y);return u},revive:function(o){return new(function(){function u(){(function d(c,o){if(!(c instanceof o))throw new TypeError("Cannot call a class as a function")})(this,u),this._files=arguments[0],this.length=this._files.length}return w=u,Y=[{key:"item",value:function(w){return this._files[w]}},{key:Symbol.toStringTag,get:function(){return"FileList"}}],Y&&p(w.prototype,Y),u;var w,Y}())(o)}}},{blob:{test:function(o){return"Blob"===U.toStringTag(o)},replace:function(o){var u=new XMLHttpRequest;if(u.overrideMimeType("text/plain; charset=x-user-defined"),u.open("GET",URL.createObjectURL(o),!1),u.send(),200!==u.status&&0!==u.status)throw new Error("Bad Blob access: "+u.status);return{type:o.type,stringContents:u.responseText}},revive:function(o){var u=o.type;return new Blob([at(o.stringContents)],{type:u})},replaceAsync:function(o){return new U.Promise(function(u,y){var w=new FileReader;w.addEventListener("load",function(){u({type:o.type,stringContents:w.result})}),w.addEventListener("error",function(){y(w.error)}),w.readAsBinaryString(o)})}}}].concat("function"==typeof Map?Me:[],"function"==typeof Set?Fe:[],"function"==typeof ArrayBuffer?Ht:[],"function"==typeof Uint8Array?Vt:[],"function"==typeof DataView?Ze:[],typeof Intl<"u"?De:[],typeof crypto<"u"?le:[],typeof BigInt<"u"?[tt,gt]:[])}()}),Re="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",Qe=new Uint8Array(256),Lt=0;Lt<64;Lt++)Qe[Re.codePointAt(Lt)]=Lt;var lt=function(s,l,d){null==d&&(d=s.byteLength);for(var p=new Uint8Array(s,l||0,d),A=p.length,E="",ae=0;ae<A;ae+=3)E+=Re[p[ae]>>2],E+=Re[(3&p[ae])<<4|p[ae+1]>>4],E+=Re[(15&p[ae+1])<<2|p[ae+2]>>6],E+=Re[63&p[ae+2]];return A%3==2?E=E.slice(0,-1)+"=":A%3==1&&(E=E.slice(0,-2)+"=="),E},Nt=function(s){var A,E,ae,ge,l=s.length,d=.75*s.length,p=0;"="===s[s.length-1]&&(d--,"="===s[s.length-2]&&d--);for(var O=new ArrayBuffer(d),B=new Uint8Array(O),Ae=0;Ae<l;Ae+=4)A=Qe[s.codePointAt(Ae)],E=Qe[s.codePointAt(Ae+1)],ae=Qe[s.codePointAt(Ae+2)],ge=Qe[s.codePointAt(Ae+3)],B[p++]=A<<2|E>>4,B[p++]=(15&E)<<4|ae>>2,B[p++]=(3&ae)<<6|63&ge;return O},At=typeof self>"u"?global:self,Rt={};["Int8Array","Uint8Array","Uint8ClampedArray","Int16Array","Uint16Array","Int32Array","Uint32Array","Float32Array","Float64Array"].forEach(function(R){var s=R,l=At[s];l&&(Rt[R.toLowerCase()+"2"]={test:function(d){return Te.toStringTag(d)===s},replace:function(d){return{buffer:d.buffer,byteOffset:d.byteOffset,length:d.length}},revive:function(d){return new l(d.buffer,d.byteOffset,d.length)}})});var $e={arraybuffer:{test:function(R){return"ArrayBuffer"===Te.toStringTag(R)},replace:function(R){return lt(R,0,R.byteLength)},revive:function(R){return Nt(R)}}},ne=(new Te).register(Xt),yt="FileReaderSync"in self,Ct=[],en=0;ne.register([$e,Rt,{blob2:{test:function(R){return"Blob"===Te.toStringTag(R)},replace:function(R){if(R.isClosed)throw new Error("The Blob is closed");if(yt){var s=Ot(R,"binary"),l=lt(s,0,s.byteLength);return{type:R.type,data:l}}Ct.push(R);var d={type:R.type,data:{start:en,end:en+R.size}};return en+=R.size,d},finalize:function(R,s){R.data=lt(s,0,s.byteLength)},revive:function(R){var s=R.type;return new Blob([Nt(R.data)],{type:s})}}}]),ne.mustFinalize=function(){return Ct.length>0},ne.finalize=function(R){return ce(void 0,void 0,void 0,function(){var s,l,d,p,A,E,ae,O,B;return _e(this,function(Ae){switch(Ae.label){case 0:return[4,Et(new Blob(Ct),"binary")];case 1:if(s=Ae.sent(),R)for(l=0,d=R;l<d.length;l++)if((p=d[l]).$types)for(ae in(E=(A=p.$types).$)&&(A=A.$),A)(O=ne.types[A[ae]])&&O.finalize&&(B=ee.ZP.getByKeyPath(p,E?"$."+ae:ae),O.finalize(B,s.slice(B.start,B.end)));return Ct=[],[2]}})})};var pn=1,Nn_Stream=function(){},jn=wt(function(R,s){!function(l){var d="object"==typeof process&&process.env?process.env:self;l.parser=function(P){return new Pe(P)},l.CParser=Pe,l.CStream=Ce,l.createStream=function Ne(P){return new Ce(P)},l.MAX_BUFFER_LENGTH=10485760,l.DEBUG="debug"===d.CDEBUG,l.INFO="debug"===d.CDEBUG||"info"===d.CDEBUG,l.EVENTS=["value","string","key","openobject","closeobject","openarray","closearray","error","end","ready"];var ae,p={textNode:void 0,numberNode:""},A=l.EVENTS.filter(function(P){return"error"!==P&&"end"!==P}),E=0;for(var ge in l.STATE={BEGIN:E++,VALUE:E++,OPEN_OBJECT:E++,CLOSE_OBJECT:E++,OPEN_ARRAY:E++,CLOSE_ARRAY:E++,TEXT_ESCAPE:E++,STRING:E++,BACKSLASH:E++,END:E++,OPEN_KEY:E++,CLOSE_KEY:E++,TRUE:E++,TRUE2:E++,TRUE3:E++,FALSE:E++,FALSE2:E++,FALSE3:E++,FALSE4:E++,NULL:E++,NULL2:E++,NULL3:E++,NUMBER_DECIMAL_POINT:E++,NUMBER_DIGIT:E++},l.STATE)l.STATE[l.STATE[ge]]=ge;E=l.STATE;const O_tab=9,O_lineFeed=10,O_carriageReturn=13,O_space=32,O_doubleQuote=34,O_plus=43,O_comma=44,O_minus=45,O_period=46,O__0=48,O__9=57,O_colon=58,O_E=69,O_openBracket=91,O_backslash=92,O_closeBracket=93,O_a=97,O_b=98,O_e=101,O_f=102,O_l=108,O_n=110,O_r=114,O_s=115,O_t=116,O_u=117,O_openBrace=123,O_closeBrace=125;function Ae(P){for(var h in p)P[h]=p[h]}Object.create||(Object.create=function(P){function h(){this.__proto__=P}return h.prototype=P,new h}),Object.getPrototypeOf||(Object.getPrototypeOf=function(P){return P.__proto__}),Object.keys||(Object.keys=function(P){var h=[];for(var $ in P)P.hasOwnProperty($)&&h.push($);return h});var mt=/[\\"\n]/g;function Pe(P){if(!(this instanceof Pe))return new Pe(P);var h=this;Ae(h),h.bufferCheckPosition=l.MAX_BUFFER_LENGTH,h.q=h.c=h.p="",h.opt=P||{},h.closed=h.closedRoot=h.sawRoot=!1,h.tag=h.error=null,h.state=E.BEGIN,h.stack=new Array,h.position=h.column=0,h.line=1,h.slashed=!1,h.unicodeI=0,h.unicodeS=null,h.depth=0,Ke(h,"onready")}Pe.prototype={end:function(){Ye(this)},write:function Ft(P){var h=this;if(this.error)throw this.error;if(h.closed)return xe(h,"Cannot write after close. Assign an onready handler.");if(null===P)return Ye(h);var $=0,I=P.charCodeAt(0),Je=h.p;for(l.DEBUG&&console.log("write -> ["+P+"]");I&&(Je=I,h.c=I=P.charCodeAt($++),Je!==I?h.p=Je:Je=h.p,I);)switch(l.DEBUG&&console.log($,I,l.STATE[h.state]),h.position++,I===O_lineFeed?(h.line++,h.column=0):h.column++,h.state){case E.BEGIN:I===O_openBrace?h.state=E.OPEN_OBJECT:I===O_openBracket?h.state=E.OPEN_ARRAY:Xe(I)||xe(h,"Non-whitespace before {[.");continue;case E.OPEN_KEY:case E.OPEN_OBJECT:if(Xe(I))continue;if(h.state===E.OPEN_KEY)h.stack.push(E.CLOSE_KEY);else{if(I===O_closeBrace){Ke(h,"onopenobject"),this.depth++,Ke(h,"oncloseobject"),this.depth--,h.state=h.stack.pop()||E.VALUE;continue}h.stack.push(E.CLOSE_OBJECT)}I===O_doubleQuote?h.state=E.STRING:xe(h,'Malformed object key should start with "');continue;case E.CLOSE_KEY:case E.CLOSE_OBJECT:if(Xe(I))continue;I===O_colon?(h.state===E.CLOSE_OBJECT?(h.stack.push(E.CLOSE_OBJECT),Pt(h,"onopenobject"),this.depth++):Pt(h,"onkey"),h.state=E.VALUE):I===O_closeBrace?(Ut(h,"oncloseobject"),this.depth--,h.state=h.stack.pop()||E.VALUE):I===O_comma?(h.state===E.CLOSE_OBJECT&&h.stack.push(E.CLOSE_OBJECT),Pt(h),h.state=E.OPEN_KEY):xe(h,"Bad object");continue;case E.OPEN_ARRAY:case E.VALUE:if(Xe(I))continue;if(h.state===E.OPEN_ARRAY){if(Ke(h,"onopenarray"),this.depth++,h.state=E.VALUE,I===O_closeBracket){Ke(h,"onclosearray"),this.depth--,h.state=h.stack.pop()||E.VALUE;continue}h.stack.push(E.CLOSE_ARRAY)}I===O_doubleQuote?h.state=E.STRING:I===O_openBrace?h.state=E.OPEN_OBJECT:I===O_openBracket?h.state=E.OPEN_ARRAY:I===O_t?h.state=E.TRUE:I===O_f?h.state=E.FALSE:I===O_n?h.state=E.NULL:I===O_minus?h.numberNode+="-":O__0<=I&&I<=O__9?(h.numberNode+=String.fromCharCode(I),h.state=E.NUMBER_DIGIT):xe(h,"Bad value");continue;case E.CLOSE_ARRAY:if(I===O_comma)h.stack.push(E.CLOSE_ARRAY),Pt(h,"onvalue"),h.state=E.VALUE;else if(I===O_closeBracket)Ut(h,"onclosearray"),this.depth--,h.state=h.stack.pop()||E.VALUE;else{if(Xe(I))continue;xe(h,"Bad array")}continue;case E.STRING:void 0===h.textNode&&(h.textNode="");var Ie=$-1,rt=h.slashed,st=h.unicodeI;e:for(;;){for(l.DEBUG&&console.log($,I,l.STATE[h.state],rt);st>0;)if(h.unicodeS+=String.fromCharCode(I),I=P.charCodeAt($++),h.position++,4===st?(h.textNode+=String.fromCharCode(parseInt(h.unicodeS,16)),st=0,Ie=$-1):st++,!I)break e;if(I===O_doubleQuote&&!rt){h.state=h.stack.pop()||E.VALUE,h.textNode+=P.substring(Ie,$-1),h.position+=$-1-Ie;break}if(I===O_backslash&&!rt&&(rt=!0,h.textNode+=P.substring(Ie,$-1),h.position+=$-1-Ie,I=P.charCodeAt($++),h.position++,!I))break;if(rt){if(rt=!1,I===O_n?h.textNode+="\n":I===O_r?h.textNode+="\r":I===O_t?h.textNode+="\t":I===O_f?h.textNode+="\f":I===O_b?h.textNode+="\b":I===O_u?(st=1,h.unicodeS=""):h.textNode+=String.fromCharCode(I),I=P.charCodeAt($++),h.position++,Ie=$-1,I)continue;break}mt.lastIndex=$;var xt=mt.exec(P);if(null===xt){h.textNode+=P.substring(Ie,($=P.length+1)-1),h.position+=$-1-Ie;break}if($=xt.index+1,!(I=P.charCodeAt(xt.index))){h.textNode+=P.substring(Ie,$-1),h.position+=$-1-Ie;break}}h.slashed=rt,h.unicodeI=st;continue;case E.TRUE:I===O_r?h.state=E.TRUE2:xe(h,"Invalid true started with t"+I);continue;case E.TRUE2:I===O_u?h.state=E.TRUE3:xe(h,"Invalid true started with tr"+I);continue;case E.TRUE3:I===O_e?(Ke(h,"onvalue",!0),h.state=h.stack.pop()||E.VALUE):xe(h,"Invalid true started with tru"+I);continue;case E.FALSE:I===O_a?h.state=E.FALSE2:xe(h,"Invalid false started with f"+I);continue;case E.FALSE2:I===O_l?h.state=E.FALSE3:xe(h,"Invalid false started with fa"+I);continue;case E.FALSE3:I===O_s?h.state=E.FALSE4:xe(h,"Invalid false started with fal"+I);continue;case E.FALSE4:I===O_e?(Ke(h,"onvalue",!1),h.state=h.stack.pop()||E.VALUE):xe(h,"Invalid false started with fals"+I);continue;case E.NULL:I===O_u?h.state=E.NULL2:xe(h,"Invalid null started with n"+I);continue;case E.NULL2:I===O_l?h.state=E.NULL3:xe(h,"Invalid null started with nu"+I);continue;case E.NULL3:I===O_l?(Ke(h,"onvalue",null),h.state=h.stack.pop()||E.VALUE):xe(h,"Invalid null started with nul"+I);continue;case E.NUMBER_DECIMAL_POINT:I===O_period?(h.numberNode+=".",h.state=E.NUMBER_DIGIT):xe(h,"Leading zero not followed by .");continue;case E.NUMBER_DIGIT:O__0<=I&&I<=O__9?h.numberNode+=String.fromCharCode(I):I===O_period?(-1!==h.numberNode.indexOf(".")&&xe(h,"Invalid number has two dots"),h.numberNode+="."):I===O_e||I===O_E?((-1!==h.numberNode.indexOf("e")||-1!==h.numberNode.indexOf("E"))&&xe(h,"Invalid number has two exponential"),h.numberNode+="e"):I===O_plus||I===O_minus?(Je===O_e||Je===O_E||xe(h,"Invalid symbol in number"),h.numberNode+=String.fromCharCode(I)):(ue(h),$--,h.state=h.stack.pop()||E.VALUE);continue;default:xe(h,"Unknown state: "+h.state)}return h.position>=h.bufferCheckPosition&&function B(P){var h=Math.max(l.MAX_BUFFER_LENGTH,10),$=0;for(var I in p){var Je=void 0===P[I]?0:P[I].length;Je>h&&("text"===I?closeText(P):xe(P,"Max buffer length exceeded: "+I)),$=Math.max($,Je)}P.bufferCheckPosition=l.MAX_BUFFER_LENGTH-$+P.position}(h),h},resume:function(){return this.error=null,this},close:function(){return this.write(null)}};try{ae=Nn_Stream}catch{ae=function(){}}function Ce(P){if(!(this instanceof Ce))return new Ce(P);this._parser=new Pe(P),this.writable=!0,this.readable=!0,this.bytes_remaining=0,this.bytes_in_sequence=0,this.temp_buffs={2:new Buffer(2),3:new Buffer(3),4:new Buffer(4)},this.string="";var h=this;ae.apply(h),this._parser.onend=function(){h.emit("end")},this._parser.onerror=function($){h.emit("error",$),h._parser.error=null},A.forEach(function($){Object.defineProperty(h,"on"+$,{get:function(){return h._parser["on"+$]},set:function(I){if(!I)return h.removeAllListeners($),h._parser["on"+$]=I,I;h.on($,I)},enumerable:!0,configurable:!1})})}function Ke(P,h,$){l.INFO&&console.log("-- emit",h,$),P[h]&&P[h]($)}function Ut(P,h,$){Pt(P),Ke(P,h,$)}function Pt(P,h){P.textNode=function Jt(P,h){return void 0===h||(P.trim&&(h=h.trim()),P.normalize&&(h=h.replace(/\s+/g," "))),h}(P.opt,P.textNode),void 0!==P.textNode&&Ke(P,h||"onvalue",P.textNode),P.textNode=void 0}function ue(P){P.numberNode&&Ke(P,"onvalue",parseFloat(P.numberNode)),P.numberNode=""}function xe(P,h){return Pt(P),h+="\nLine: "+P.line+"\nColumn: "+P.column+"\nChar: "+P.c,h=new Error(h),P.error=h,Ke(P,"onerror",h),P}function Ye(P){return(P.state!==E.VALUE||0!==P.depth)&&xe(P,"Unexpected end"),Pt(P),P.c="",P.closed=!0,Ke(P,"onend"),Pe.call(P,P.opt),P}function Xe(P){return P===O_carriageReturn||P===O_lineFeed||P===O_space||P===O_tab}(Ce.prototype=Object.create(ae.prototype,{constructor:{value:Ce}})).write=function(P){P=new Buffer(P);for(var h=0;h<P.length;h++){var $=P[h];if(this.bytes_remaining>0){for(var I=0;I<this.bytes_remaining;I++)this.temp_buffs[this.bytes_in_sequence][this.bytes_in_sequence-this.bytes_remaining+I]=P[I];this.string=this.temp_buffs[this.bytes_in_sequence].toString(),this.bytes_in_sequence=this.bytes_remaining=0,h=h+I-1,this._parser.write(this.string),this.emit("data",this.string)}else if(0===this.bytes_remaining&&$>=128){if($>=194&&$<=223&&(this.bytes_in_sequence=2),$>=224&&$<=239&&(this.bytes_in_sequence=3),$>=240&&$<=244&&(this.bytes_in_sequence=4),this.bytes_in_sequence+h>P.length){for(var Je=0;Je<=P.length-1-h;Je++)this.temp_buffs[this.bytes_in_sequence][Je]=P[h+Je];return this.bytes_remaining=h+this.bytes_in_sequence-P.length,!0}this.string=P.slice(h,h+this.bytes_in_sequence).toString(),h=h+this.bytes_in_sequence-1,this._parser.write(this.string),this.emit("data",this.string)}else{for(var Ie=h;Ie<P.length&&!(P[Ie]>=128);Ie++);this.string=P.slice(h,Ie).toString(),this._parser.write(this.string),this.emit("data",this.string),h=Ie-1}}},Ce.prototype.end=function(P){return P&&P.length&&this._parser.write(P.toString()),this._parser.end(),!0},Ce.prototype.on=function(P,h){var $=this;return!$._parser["on"+P]&&-1!==A.indexOf(P)&&($._parser["on"+P]=function(){var I=1===arguments.length?[arguments[0]]:Array.apply(null,arguments);I.splice(0,0,P),$.emit.apply($,I)}),ae.prototype.on.call($,P,h)},Ce.prototype.destroy=function(){Ae(this._parser),this.emit("close")}}(s)});function L(R,s,l){return ce(this,void 0,void 0,function(){function d(){return ce(this,void 0,void 0,function(){var Ce,Ke,Ut;return _e(this,function(Jt){switch(Jt.label){case 0:Ce=function(xe){var Ye,Xe,Ft,P,h,$,I,Je,Ie,rt,st,xt,Dt;return _e(this,function(St){switch(St.label){case 0:if(O.includes(xe.tableName))return[2,"continue"];if(!xe.rows)return[2,"break"];if(!xe.rows.incomplete&&0===xe.rows.length)return[2,"continue"];if(B&&ee.ZP.ignoreTransaction(function(){return B(Ae)}),Xe=R.table(Ye=xe.tableName),Ft=ge.tables.filter(function(et){return et.name===Ye})[0].schema,!Xe){if(l.acceptMissingTables)return[2,"continue"];throw new Error("Exported table ".concat(xe.tableName," is missing in installed database"))}if(!l.acceptChangedPrimaryKey&&Ft.split(",")[0]!=Xe.schema.primKey.src)throw new Error("Primary key differs for table ".concat(xe.tableName,". "));for(P=xe.rows,h=[],$=0;$<P.length&&!(I=P[$]).incomplete;$++)h.push(ne.revive(I));return Ie=l.transform,rt=(Je=l.filter)?h.filter(xe.inbound?function(et){return Je(Ye,et)}:function(et){return Je(Ye,et[1],et[0])}):h,Ie&&(rt=rt.map(xe.inbound?function(et){return Ie(Ye,et).value}:function(et){var $t=Ie(Ye,et[1],et[0]);return[$t.key,$t.value]})),st=xe.inbound?[void 0,rt]:[rt.map(function(et){return et[0]}),h.map(function(et){return et[1]})],xt=st[0],Dt=st[1],l.overwriteValues?[4,Xe.bulkPut(Dt,xt)]:[3,2];case 1:return St.sent(),[3,4];case 2:return[4,Xe.bulkAdd(Dt,xt)];case 3:St.sent(),St.label=4;case 4:return Ae.completedRows+=h.length,h.incomplete||(Ae.completedTables+=1),P.splice(0,h.length),[2]}})},Ke=0,Ut=ge.data,Jt.label=1;case 1:return Ke<Ut.length?[5,Ce(Ut[Ke])]:[3,4];case 2:if("break"===Jt.sent())return[3,4];Jt.label=3;case 3:return Ke++,[3,1];case 4:for(;ge.data.length>0&&ge.data[0].rows&&!ge.data[0].rows.incomplete;)ge.data.splice(0,1);return A.done()||A.eof()?[3,8]:ae?(A.pullSync(p),[3,7]):[3,5];case 5:return[4,ee.ZP.waitFor(A.pullAsync(p))];case 6:Jt.sent(),Jt.label=7;case 7:return[3,9];case 8:return[3,10];case 9:return[3,0];case 10:return[2]}})})}var p,A,ae,ge,O,B,Ae,mt,Pe,Ne;return _e(this,function(Ce){switch(Ce.label){case 0:return[4,M(s,p=(l=l||{}).chunkSizeBytes||1048576)];case 1:if(A=Ce.sent(),ae="FileReaderSync"in self,ge=A.result.data,O=l.skipTables?l.skipTables:[],!l.acceptNameDiff&&R.name!==ge.databaseName)throw new Error("Name differs. Current database name is ".concat(R.name," but export is ").concat(ge.databaseName));if(!l.acceptVersionDiff&&R.verno!==ge.databaseVersion)throw new Error("Database version differs. Current database is in version ".concat(R.verno," but export is ").concat(ge.databaseVersion));if(B=l.progressCallback,Ae={done:!1,completedRows:0,completedTables:0,totalRows:ge.tables.reduce(function(Ke,Ut){return Ke+Ut.rowCount},0),totalTables:ge.tables.length},B&&ee.ZP.ignoreTransaction(function(){return B(Ae)}),!l.clearTablesBeforeImport)return[3,5];mt=0,Pe=R.tables,Ce.label=2;case 2:return mt<Pe.length?O.includes((Ne=Pe[mt]).name)?[3,4]:[4,Ne.clear()]:[3,5];case 3:Ce.sent(),Ce.label=4;case 4:return mt++,[3,2];case 5:return l.noTransaction?[4,d()]:[3,7];case 6:return Ce.sent(),[3,9];case 7:return[4,R.transaction("rw",R.tables,d)];case 8:Ce.sent(),Ce.label=9;case 9:return Ae.done=!0,B&&ee.ZP.ignoreTransaction(function(){return B(Ae)}),[2]}})})}function M(R,s){return ce(this,void 0,void 0,function(){var l,d;return _e(this,function(p){switch(p.label){case 0:l="slice"in R?function En(R){var s=0,l=function bn(R){var d,A,E,s=jn.parser(),l=0,p=[],ae=!1,ge=!1;return s.onopenobject=function(O){var B={incomplete:!0};d||(d=B),A&&(p.push([E,A,ge]),R&&(ge?A.push(B):A[E]=B)),A=B,E=O,ge=!1,++l},s.onkey=function(O){return E=O},s.onvalue=function(O){return ge?A.push(O):A[E]=O},s.oncloseobject=function(){var O;if(delete A.incomplete,E=null,0==--l)ae=!0;else{var B=A;O=p.pop(),E=O[0],A=O[1],ge=O[2],R||(ge?A.push(B):A[E]=B)}},s.onopenarray=function(){var O=[];O.incomplete=!0,d||(d=O),A&&(p.push([E,A,ge]),R&&(ge?A.push(O):A[E]=O)),A=O,ge=!0,E=null,++l},s.onclosearray=function(){var O;if(delete A.incomplete,E=null,0==--l)ae=!0;else{var B=A;O=p.pop(),E=O[0],A=O[1],ge=O[2],R||(ge?A.push(B):A[E]=B)}},{write:function(O){return s.write(O),d},done:function(){return ae}}}(!0),d={pullAsync:function(p){return ce(this,void 0,void 0,function(){var A,E,ae;return _e(this,function(ge){switch(ge.label){case 0:return A=R.slice(s,s+p),s+=p,[4,Et(A,"text")];case 1:return E=ge.sent(),ae=l.write(E),d.result=ae||{},[2,ae]}})})},pullSync:function(p){var A=R.slice(s,s+p);s+=p;var E=Ot(A,"text"),ae=l.write(E);return d.result=ae||{},ae},done:function(){return l.done()},eof:function(){return s>=R.size},result:{}};return d}(R):R,p.label=1;case 1:return l.eof()?[3,3]:[4,l.pullAsync(s)];case 2:return p.sent(),l.result.data&&l.result.data.data?[3,3]:[3,1];case 3:if(!(d=l.result)||"dexie"!=d.formatName)throw new Error("Given file is not a dexie export");if(d.formatVersion>pn)throw new Error("Format version ".concat(d.formatVersion," not supported"));if(!d.data)throw new Error("No data in export file");if(!d.data.databaseName)throw new Error("Missing databaseName in export file");if(!d.data.databaseVersion)throw new Error("Missing databaseVersion in export file");if(!d.data.tables)throw new Error("Missing tables in export file");return[2,l]}})})}ee.ZP.prototype.export=function(R){return function ln(R,s){return ce(this,void 0,void 0,function(){function l(){return ce(this,void 0,void 0,function(){var Ae,mt,Pe,Ne,Ce,Ke,Ut,Pt,ue;return _e(this,function(xe){switch(xe.label){case 0:return[4,Promise.all(p.map(function(Ye){return Ye.count()}))];case 1:(Ae=xe.sent()).forEach(function(Ye,Xe){return E[Xe].rowCount=Ye}),B.totalRows=Ae.reduce(function(Ye,Xe){return Ye+Xe}),mt=JSON.stringify(ge,void 0,ae?2:void 0),Pe=mt.lastIndexOf("]"),Ne=mt.substring(0,Pe),A.push(Ne),Ce=s.filter,Ke=s.transform,Ut=function(Ye){var Xe,Ft,P,h,I,Je,Ie,rt,st,xt;return _e(this,function(St){switch(St.label){case 0:Xe=R.table(Ye),P=!!(Ft=Xe.schema.primKey).keyPath,h=s.numRowsPerChunk||2e3,I=JSON.stringify(P?{tableName:Xe.name,inbound:!0,rows:[]}:{tableName:Xe.name,inbound:!1,rows:[]},void 0,ae?2:void 0),ae&&(I=I.split("\n").join("\n    ")),Je=I.lastIndexOf("]"),A.push(I.substring(0,Je)),Ie=null,rt=0,st=!0,xt=function(){var et,pt,Mt,$t,U,it,Tt,T,b;return _e(this,function(F){switch(F.label){case 0:return O&&ee.ZP.ignoreTransaction(function(){return O(B)}),[4,(et=null==Ie?Xe.limit(h):Xe.where(":id").above(Ie).limit(h)).toArray()];case 1:return 0===(pt=F.sent()).length?[2,"break"]:(null!=Ie&&rt>0&&(A.push(","),ae&&A.push("\n      ")),st=pt.length===h,P?(Mt=Ce?pt.filter(function(D){return Ce(Ye,D)}):pt,$t=Ke?Mt.map(function(D){return Ke(Ye,D).value}):Mt,U=$t.map(function(D){return ne.encapsulate(D)}),ne.mustFinalize()?[4,ee.ZP.waitFor(ne.finalize(U))]:[3,3]):[3,4]);case 2:F.sent(),F.label=3;case 3:return b=JSON.stringify(U,void 0,ae?2:void 0),ae&&(b=b.split("\n").join("\n      ")),A.push(new Blob([b.substring(1,b.length-1)])),rt=$t.length,Ie=pt.length>0?ee.ZP.getByKeyPath(pt[pt.length-1],Ft.keyPath):null,[3,8];case 4:return[4,et.primaryKeys()];case 5:return it=F.sent(),Tt=it.map(function(D,W){return[D,pt[W]]}),Ce&&(Tt=Tt.filter(function(D){return Ce(Ye,D[1],D[0])})),Ke&&(Tt=Tt.map(function(D){var Me=Ke(Ye,D[1],D[0]);return[Me.key,Me.value]})),T=Tt.map(function(D){return ne.encapsulate(D)}),ne.mustFinalize()?[4,ee.ZP.waitFor(ne.finalize(T))]:[3,7];case 6:F.sent(),F.label=7;case 7:b=JSON.stringify(T,void 0,ae?2:void 0),ae&&(b=b.split("\n").join("\n      ")),A.push(new Blob([b.substring(1,b.length-1)])),rt=Tt.length,Ie=it.length>0?it[it.length-1]:null,F.label=8;case 8:return B.completedRows+=pt.length,[2]}})},St.label=1;case 1:return st?[5,xt()]:[3,3];case 2:return"break"===St.sent()?[3,3]:[3,1];case 3:return A.push(I.substr(Je)),B.completedTables+=1,B.completedTables<B.totalTables&&A.push(","),[2]}})},Pt=0,ue=E,xe.label=2;case 2:return Pt<ue.length?[5,Ut(ue[Pt].name)]:[3,5];case 3:xe.sent(),xe.label=4;case 4:return Pt++,[3,2];case 5:return A.push(mt.substr(Pe)),B.done=!0,O&&ee.ZP.ignoreTransaction(function(){return O(B)}),[2]}})})}var d,p,A,E,ae,ge,O,B;return _e(this,function(Ae){switch(Ae.label){case 0:d=(s=s||{}).skipTables?s.skipTables:[],p=R.tables.filter(function(mt){return!d.includes(mt.name)}),A=[],E=p.map(function(mt){return{name:mt.name,schema:dt(mt),rowCount:0}}),ae=s.prettyJson,ge={formatName:"dexie",formatVersion:1,data:{databaseName:R.name,databaseVersion:R.verno,tables:E,data:[]}},O=s.progressCallback,B={done:!1,completedRows:0,completedTables:0,totalRows:NaN,totalTables:E.length},Ae.label=1;case 1:return Ae.trys.push([1,,6,7]),s.noTransaction?[4,l()]:[3,3];case 2:return Ae.sent(),[3,5];case 3:return[4,R.transaction("r",R.tables,l)];case 4:Ae.sent(),Ae.label=5;case 5:return[3,7];case 6:return ne.finalize(),[7];case 7:return[2,new Blob(A,{type:"text/json"})]}})})}(this,R)},ee.ZP.prototype.import=function(R,s){return L(this,R,s)},ee.ZP.import=function(R,s){return function yn(R,s){return ce(this,void 0,void 0,function(){var d,p,A;return _e(this,function(E){switch(E.label){case 0:return[4,M(R,(s=s||{}).chunkSizeBytes||1048576)];case 1:return d=E.sent(),(A=new ee.ZP((p=d.result.data).databaseName)).version(p.databaseVersion).stores(function He(R){for(var s={},l=0,d=R.tables;l<d.length;l++){var p=d[l];s[p.name]=p.schema}return s}(p)),[4,L(A,d,s)];case 2:return E.sent(),[2,A]}})})}(R,s)};class z extends ee.ZP{examId;exams;templates;alignImages;nonAlignImages;constructor(s){super("correctExam"+s),this.examId=s,this.version(3).stores({exams:"++id",templates:"++id, examId, [examId+pageNumber]",alignImages:"++id, examId,[examId+pageNumber]",nonAlignImages:"++id, examId,[examId+pageNumber]"})}resetDatabase(){var s=this;return(0,N.Z)(function*(){yield s.transaction("rw","exams","templates","alignImages","nonAlignImages",()=>{s.exams.clear(),s.templates.clear(),s.alignImages.clear(),s.nonAlignImages.clear()})})()}removeElementForExam(){var s=this;return(0,N.Z)(function*(){return s.delete()})()}removePageAlignForExam(){var s=this;return(0,N.Z)(function*(){yield s.transaction("rw","exams","templates","alignImages","nonAlignImages",()=>{s.exams.delete(s.examId),s.alignImages.where("examId").equals(s.examId).toArray().then(l=>s.alignImages.bulkDelete(l.map(d=>d.id)))})})()}removeElementForExamForPages(s,l){var d=this;return(0,N.Z)(function*(){yield d.transaction("rw","exams","templates","alignImages","nonAlignImages",()=>{d.alignImages.where({examId:d.examId}).filter(p=>p.pageNumber>=s&&p.pageNumber<=l).toArray().then(p=>d.alignImages.bulkDelete(p.map(A=>A.id))),d.nonAlignImages.where({examId:d.examId}).filter(p=>p.pageNumber>=s&&p.pageNumber<=l).toArray().then(p=>d.nonAlignImages.bulkDelete(p.map(A=>A.id)))})})()}removePageAlignForExamForPage(s){var l=this;return(0,N.Z)(function*(){yield l.transaction("rw","exams","templates","alignImages","nonAlignImages",()=>{l.alignImages.where({examId:l.examId,pageNumber:s}).delete()})})()}removePageNonAlignForExamForPage(s){var l=this;return(0,N.Z)(function*(){yield l.transaction("rw","exams","templates","alignImages","nonAlignImages",()=>{l.nonAlignImages.where({examId:l.examId,pageNumber:s}).delete()})})()}removePageAlignForExamForPages(s,l){var d=this;return(0,N.Z)(function*(){yield d.transaction("rw","exams","templates","alignImages","nonAlignImages",()=>{d.alignImages.where({examId:d.examId}).filter(p=>p.pageNumber>=s&&p.pageNumber<=l).toArray().then(p=>d.alignImages.bulkDelete(p.map(A=>A.id)))})})()}removePageNonAlignForExamForPages(s,l){var d=this;return(0,N.Z)(function*(){yield d.transaction("rw","exams","templates","alignImages","nonAlignImages",()=>{d.nonAlignImages.where({examId:d.examId}).filter(p=>p.pageNumber>=s&&p.pageNumber<=l).toArray().then(p=>d.nonAlignImages.bulkDelete(p.map(A=>A.id)))})})()}removeExam(){var s=this;return(0,N.Z)(function*(){yield s.transaction("rw","exams",()=>{s.exams.delete(s.examId)})})()}addAligneImage(s){var l=this;return(0,N.Z)(function*(){yield l.alignImages.put(s)})()}addNonAligneImage(s){var l=this;return(0,N.Z)(function*(){yield l.nonAlignImages.put(s)})()}addNonAligneImages(s){var l=this;return(0,N.Z)(function*(){yield l.nonAlignImages.bulkAdd(s)})()}export(s){return super.export(s)}import(s,l){return super.import(s,l)}countPageTemplate(){var s=this;return(0,N.Z)(function*(){return yield s.templates.where("examId").equals(s.examId).count()})()}countAlignImage(){var s=this;return(0,N.Z)(function*(){return yield s.alignImages.where("examId").equals(s.examId).count()})()}countNonAlignImage(){var s=this;return(0,N.Z)(function*(){return yield s.nonAlignImages.where("examId").equals(s.examId).count()})()}getFirstNonAlignImage(s){var l=this;return(0,N.Z)(function*(){return yield l.nonAlignImages.where({examId:l.examId,pageNumber:s}).first()})()}getFirstAlignImage(s){var l=this;return(0,N.Z)(function*(){return yield l.alignImages.where({examId:l.examId,pageNumber:s}).first()})()}getFirstTemplate(s){var l=this;return(0,N.Z)(function*(){return yield l.templates.where({examId:l.examId,pageNumber:s}).first()})()}getNonAlignImageBetweenAndSortByPageNumber(s,l){var d=this;return(0,N.Z)(function*(){return yield d.nonAlignImages.where({examId:d.examId}).filter(p=>p.pageNumber>=s&&p.pageNumber<=l).sortBy("pageNumber")})()}getAlignImageBetweenAndSortByPageNumber(s,l){var d=this;return(0,N.Z)(function*(){return yield d.alignImages.where({examId:d.examId}).filter(p=>p.pageNumber>=s&&p.pageNumber<=l).sortBy("pageNumber")})()}getNonAlignImagesForPageNumbers(s){var l=this;return(0,N.Z)(function*(){return yield l.nonAlignImages.where({examId:l.examId}).filter(d=>s.includes(d.pageNumber)).sortBy("pageNumber")})()}getAlignImagesForPageNumbers(s){var l=this;return(0,N.Z)(function*(){return yield l.alignImages.where({examId:l.examId}).filter(d=>s.includes(d.pageNumber)).sortBy("pageNumber")})()}getNonAlignSortByPageNumber(){var s=this;return(0,N.Z)(function*(){return yield s.nonAlignImages.where({examId:s.examId}).sortBy("pageNumber")})()}moveNonAlignPages(s,l){var d=this;return(0,N.Z)(function*(){s!==l&&(yield d.nonAlignImages.where({examId:d.examId}).filter(p=>p.pageNumber===s).modify(p=>{p.pageNumber=-1e3}),s<l?yield d.nonAlignImages.where({examId:d.examId}).filter(p=>p.pageNumber>s&&p.pageNumber<=l).modify(p=>{p.pageNumber=p.pageNumber-1}):yield d.nonAlignImages.where({examId:d.examId}).filter(p=>p.pageNumber<s&&p.pageNumber>=l).modify(p=>{p.pageNumber=p.pageNumber+1}),yield d.nonAlignImages.where({examId:d.examId}).filter(p=>-1e3===p.pageNumber).modify(p=>{p.pageNumber=l}))})()}moveAlignPages(s,l){var d=this;return(0,N.Z)(function*(){s!==l&&(yield d.alignImages.where({examId:d.examId,pageNumber:s}).modify(p=>{p.pageNumber=-1e3}),s<l?yield d.alignImages.where({examId:d.examId}).filter(p=>p.pageNumber>s&&p.pageNumber<=l).modify(p=>{p.pageNumber=p.pageNumber-1}):yield d.alignImages.where({examId:d.examId}).filter(p=>p.pageNumber<s&&p.pageNumber>=l).modify(p=>{p.pageNumber=p.pageNumber+1}),yield d.alignImages.where({examId:d.examId,pageNumber:-1e3}).modify(p=>{p.pageNumber=l}))})()}getAlignSortByPageNumber(){var s=this;return(0,N.Z)(function*(){return yield s.alignImages.where({examId:s.examId}).sortBy("pageNumber")})()}addExam(){var s=this;return(0,N.Z)(function*(){return yield s.exams.add({id:s.examId})})()}addTemplate(s){var l=this;return(0,N.Z)(function*(){return yield l.templates.add({examId:l.examId,pageNumber:s.pageNumber,value:s.value})})()}countNonAlignWithPageNumber(s){var l=this;return(0,N.Z)(function*(){return yield l.nonAlignImages.where({examId:l.examId,pageNumber:s}).count()})()}countAlignWithPageNumber(s){var l=this;return(0,N.Z)(function*(){return yield l.alignImages.where({examId:l.examId,pageNumber:s}).count()})()}}class Ee{dbs=new Map;resetDatabase(s){var l=this;return(0,N.Z)(function*(){let d=l.dbs.get(s);return void 0===d&&(d=new z(s),l.dbs.set(s,d)),d.resetDatabase()})()}removeExam(s){var l=this;return(0,N.Z)(function*(){let d=l.dbs.get(s);return void 0===d&&(d=new z(s),l.dbs.set(s,d)),d.removeExam()})()}removeElementForExam(s){var l=this;return(0,N.Z)(function*(){let d=l.dbs.get(s);return void 0===d&&(d=new z(s),l.dbs.set(s,d)),l.dbs.delete(s),d.removeElementForExam()})()}removeElementForExamForPages(s,l,d){var p=this;return(0,N.Z)(function*(){let A=p.dbs.get(s);return void 0===A&&(A=new z(s),p.dbs.set(s,A)),A.removeElementForExamForPages(l,d)})()}removePageAlignForExam(s){var l=this;return(0,N.Z)(function*(){let d=l.dbs.get(s);return void 0===d&&(d=new z(s),l.dbs.set(s,d)),d.removePageAlignForExam()})()}removePageAlignForExamForPage(s,l){var d=this;return(0,N.Z)(function*(){let p=d.dbs.get(s);return void 0===p&&(p=new z(s),d.dbs.set(s,p)),p.removePageAlignForExamForPage(l)})()}removePageNonAlignForExamForPage(s,l){var d=this;return(0,N.Z)(function*(){let p=d.dbs.get(s);return void 0===p&&(p=new z(s),d.dbs.set(s,p)),p.removePageNonAlignForExamForPage(l)})()}removePageAlignForExamForPages(s,l,d){var p=this;return(0,N.Z)(function*(){let A=p.dbs.get(s);return void 0===A&&(A=new z(s),p.dbs.set(s,A)),A.removePageAlignForExamForPages(l,d)})()}removePageNonAlignForExamForPages(s,l,d){var p=this;return(0,N.Z)(function*(){let A=p.dbs.get(s);return void 0===A&&(A=new z(s),p.dbs.set(s,A)),A.removePageNonAlignForExamForPages(l,d)})()}addAligneImage(s){var l=this;return(0,N.Z)(function*(){let d=l.dbs.get(s.examId);return void 0===d&&(d=new z(s.examId),l.dbs.set(s.examId,d)),d.addAligneImage(s)})()}addNonAligneImage(s){var l=this;return(0,N.Z)(function*(){let d=l.dbs.get(s.examId);return void 0===d&&(d=new z(s.examId),l.dbs.set(s.examId,d)),d.addNonAligneImage(s)})()}addNonAligneImages(s){var l=this;return(0,N.Z)(function*(){if(s.length>0){let d=l.dbs.get(s[0].examId);return void 0===d&&(d=new z(s[0].examId),l.dbs.set(s[0].examId,d)),d.addNonAligneImages(s)}})()}export(s,l){let d=this.dbs.get(s);return void 0===d&&(d=new z(s),this.dbs.set(s,d)),d.export(l)}import(s,l,d){let p=this.dbs.get(s);return void 0===p&&(p=new z(s),this.dbs.set(s,p)),p.import(l,d)}countPageTemplate(s){var l=this;return(0,N.Z)(function*(){let d=l.dbs.get(s);return void 0===d&&(d=new z(s),l.dbs.set(s,d)),d.countPageTemplate()})()}countAlignImage(s){var l=this;return(0,N.Z)(function*(){let d=l.dbs.get(s);return void 0===d&&(d=new z(s),l.dbs.set(s,d)),d.countAlignImage()})()}countNonAlignImage(s){var l=this;return(0,N.Z)(function*(){let d=l.dbs.get(s);return void 0===d&&(d=new z(s),l.dbs.set(s,d)),d.countNonAlignImage()})()}getFirstNonAlignImage(s,l){var d=this;return(0,N.Z)(function*(){let p=d.dbs.get(s);return void 0===p&&(p=new z(s),d.dbs.set(s,p)),p.getFirstNonAlignImage(l)})()}getFirstAlignImage(s,l){var d=this;return(0,N.Z)(function*(){let p=d.dbs.get(s);return void 0===p&&(p=new z(s),d.dbs.set(s,p)),p.getFirstAlignImage(l)})()}getFirstTemplate(s,l){var d=this;return(0,N.Z)(function*(){let p=d.dbs.get(s);return void 0===p&&(p=new z(s),d.dbs.set(s,p)),p.getFirstTemplate(l)})()}getNonAlignImageBetweenAndSortByPageNumber(s,l,d){var p=this;return(0,N.Z)(function*(){let A=p.dbs.get(s);return void 0===A&&(A=new z(s),p.dbs.set(s,A)),A.getNonAlignImageBetweenAndSortByPageNumber(l,d)})()}getAlignImageBetweenAndSortByPageNumber(s,l,d){var p=this;return(0,N.Z)(function*(){let A=p.dbs.get(s);return void 0===A&&(A=new z(s),p.dbs.set(s,A)),A.getAlignImageBetweenAndSortByPageNumber(l,d)})()}getNonAlignImagesForPageNumbers(s,l){var d=this;return(0,N.Z)(function*(){let p=d.dbs.get(s);return void 0===p&&(p=new z(s),d.dbs.set(s,p)),p.getNonAlignImagesForPageNumbers(l)})()}getAlignImagesForPageNumbers(s,l){var d=this;return(0,N.Z)(function*(){let p=d.dbs.get(s);return void 0===p&&(p=new z(s),d.dbs.set(s,p)),p.getAlignImagesForPageNumbers(l)})()}getNonAlignSortByPageNumber(s){var l=this;return(0,N.Z)(function*(){let d=l.dbs.get(s);return void 0===d&&(d=new z(s),l.dbs.set(s,d)),d.getNonAlignSortByPageNumber()})()}getAlignSortByPageNumber(s){var l=this;return(0,N.Z)(function*(){let d=l.dbs.get(s);return void 0===d&&(d=new z(s),l.dbs.set(s,d)),d.getAlignSortByPageNumber()})()}addExam(s){var l=this;return(0,N.Z)(function*(){let d=l.dbs.get(s);return void 0===d&&(d=new z(s),l.dbs.set(s,d)),d.addExam()})()}addTemplate(s){var l=this;return(0,N.Z)(function*(){let d=l.dbs.get(s.examId);return void 0===d&&(d=new z(s.examId),l.dbs.set(s.examId,d)),d.addTemplate(s)})()}countNonAlignWithPageNumber(s,l){var d=this;return(0,N.Z)(function*(){let p=d.dbs.get(s);return void 0===p&&(p=new z(s),d.dbs.set(s,p)),p.countNonAlignWithPageNumber(l)})()}countAlignWithPageNumber(s,l){var d=this;return(0,N.Z)(function*(){let p=d.dbs.get(s);return void 0===p&&(p=new z(s),d.dbs.set(s,p)),p.countAlignWithPageNumber(l)})()}moveNonAlignPages(s,l,d){var p=this;return(0,N.Z)(function*(){let A=p.dbs.get(s);return void 0===A&&(A=new z(s),p.dbs.set(s,A)),A.moveNonAlignPages(l,d)})()}moveAlignPages(s,l,d){var p=this;return(0,N.Z)(function*(){let A=p.dbs.get(s);return void 0===A&&(A=new z(s),p.dbs.set(s,A)),A.moveAlignPages(l,d)})()}}new Ee},5592:(Ge,Ue,he)=>{"use strict";he.d(Ue,{y:()=>Et});var N=he(305),ee=he(5113),de=he(4850),ce=he(8407),_e=he(2653),dt=he(4674),He=he(1441);let Et=(()=>{class Te{constructor(Re){Re&&(this._subscribe=Re)}lift(Re){const Qe=new Te;return Qe.source=this,Qe.operator=Re,Qe}subscribe(Re,Qe,Lt){const lt=function wt(Te){return Te&&Te instanceof N.Lv||function bt(Te){return Te&&(0,dt.m)(Te.next)&&(0,dt.m)(Te.error)&&(0,dt.m)(Te.complete)}(Te)&&(0,ee.Nn)(Te)}(Re)?Re:new N.Hp(Re,Qe,Lt);return(0,He.x)(()=>{const{operator:Nt,source:At}=this;lt.add(Nt?Nt.call(lt,At):At?this._subscribe(lt):this._trySubscribe(lt))}),lt}_trySubscribe(Re){try{return this._subscribe(Re)}catch(Qe){Re.error(Qe)}}forEach(Re,Qe){return new(Qe=Ot(Qe))((Lt,lt)=>{const Nt=new N.Hp({next:At=>{try{Re(At)}catch(Rt){lt(Rt),Nt.unsubscribe()}},error:lt,complete:Lt});this.subscribe(Nt)})}_subscribe(Re){var Qe;return null===(Qe=this.source)||void 0===Qe?void 0:Qe.subscribe(Re)}[de.L](){return this}pipe(...Re){return(0,ce.U)(Re)(this)}toPromise(Re){return new(Re=Ot(Re))((Qe,Lt)=>{let lt;this.subscribe(Nt=>lt=Nt,Nt=>Lt(Nt),()=>Qe(lt))})}}return Te.create=Xt=>new Te(Xt),Te})();function Ot(Te){var Xt;return null!==(Xt=Te??_e.config.Promise)&&void 0!==Xt?Xt:Promise}},305:(Ge,Ue,he)=>{"use strict";he.d(Ue,{Hp:()=>Lt,Lv:()=>Te});var N=he(4674),ee=he(5113),de=he(2653),ce=he(3894),_e=he(2420);const dt=Ot("C",void 0,void 0);function Ot($e,ne,yt){return{kind:$e,value:ne,error:yt}}var bt=he(7599),wt=he(1441);class Te extends ee.w0{constructor(ne){super(),this.isStopped=!1,ne?(this.destination=ne,(0,ee.Nn)(ne)&&ne.add(this)):this.destination=Rt}static create(ne,yt,Ct){return new Lt(ne,yt,Ct)}next(ne){this.isStopped?At(function Et($e){return Ot("N",$e,void 0)}(ne),this):this._next(ne)}error(ne){this.isStopped?At(function He($e){return Ot("E",void 0,$e)}(ne),this):(this.isStopped=!0,this._error(ne))}complete(){this.isStopped?At(dt,this):(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe(),this.destination=null)}_next(ne){this.destination.next(ne)}_error(ne){try{this.destination.error(ne)}finally{this.unsubscribe()}}_complete(){try{this.destination.complete()}finally{this.unsubscribe()}}}const Xt=Function.prototype.bind;function Re($e,ne){return Xt.call($e,ne)}class Qe{constructor(ne){this.partialObserver=ne}next(ne){const{partialObserver:yt}=this;if(yt.next)try{yt.next(ne)}catch(Ct){lt(Ct)}}error(ne){const{partialObserver:yt}=this;if(yt.error)try{yt.error(ne)}catch(Ct){lt(Ct)}else lt(ne)}complete(){const{partialObserver:ne}=this;if(ne.complete)try{ne.complete()}catch(yt){lt(yt)}}}class Lt extends Te{constructor(ne,yt,Ct){let en;if(super(),(0,N.m)(ne)||!ne)en={next:ne??void 0,error:yt??void 0,complete:Ct??void 0};else{let tn;this&&de.config.useDeprecatedNextContext?(tn=Object.create(ne),tn.unsubscribe=()=>this.unsubscribe(),en={next:ne.next&&Re(ne.next,tn),error:ne.error&&Re(ne.error,tn),complete:ne.complete&&Re(ne.complete,tn)}):en=ne}this.destination=new Qe(en)}}function lt($e){de.config.useDeprecatedSynchronousErrorHandling?(0,wt.O)($e):(0,ce.h)($e)}function At($e,ne){const{onStoppedNotification:yt}=de.config;yt&&bt.z.setTimeout(()=>yt($e,ne))}const Rt={closed:!0,next:_e.Z,error:function Nt($e){throw $e},complete:_e.Z}},2653:(Ge,Ue,he)=>{"use strict";he.d(Ue,{config:()=>N});const N={onUnhandledError:null,onStoppedNotification:null,Promise:void 0,useDeprecatedSynchronousErrorHandling:!1,useDeprecatedNextContext:!1}},7599:(Ge,Ue,he)=>{"use strict";he.d(Ue,{z:()=>N});const N={setTimeout(ee,de,...ce){const{delegate:_e}=N;return _e?.setTimeout?_e.setTimeout(ee,de,...ce):setTimeout(ee,de,...ce)},clearTimeout(ee){const{delegate:de}=N;return(de?.clearTimeout||clearTimeout)(ee)},delegate:void 0}},4850:(Ge,Ue,he)=>{"use strict";he.d(Ue,{L:()=>N});const N="function"==typeof Symbol&&Symbol.observable||"@@observable"},9732:(Ge,Ue,he)=>{"use strict";he.d(Ue,{B:()=>ee});const ee=(0,he(2306).d)(de=>function(_e){de(this),this.message=_e?`${_e.length} errors occurred during unsubscription:\n${_e.map((dt,He)=>`${He+1}) ${dt.toString()}`).join("\n  ")}`:"",this.name="UnsubscriptionError",this.errors=_e})},9039:(Ge,Ue,he)=>{"use strict";function N(ee,de){if(ee){const ce=ee.indexOf(de);0<=ce&&ee.splice(ce,1)}}he.d(Ue,{P:()=>N})},2306:(Ge,Ue,he)=>{"use strict";function N(ee){const ce=ee(_e=>{Error.call(_e),_e.stack=(new Error).stack});return ce.prototype=Object.create(Error.prototype),ce.prototype.constructor=ce,ce}he.d(Ue,{d:()=>N})},1441:(Ge,Ue,he)=>{"use strict";he.d(Ue,{O:()=>ce,x:()=>de});var N=he(2653);let ee=null;function de(_e){if(N.config.useDeprecatedSynchronousErrorHandling){const dt=!ee;if(dt&&(ee={errorThrown:!1,error:null}),_e(),dt){const{errorThrown:He,error:Et}=ee;if(ee=null,He)throw Et}}else _e()}function ce(_e){N.config.useDeprecatedSynchronousErrorHandling&&ee&&(ee.errorThrown=!0,ee.error=_e)}},2737:(Ge,Ue,he)=>{"use strict";function N(ee){return ee}he.d(Ue,{y:()=>N})},4674:(Ge,Ue,he)=>{"use strict";function N(ee){return"function"==typeof ee}he.d(Ue,{m:()=>N})},2420:(Ge,Ue,he)=>{"use strict";function N(){}he.d(Ue,{Z:()=>N})},3894:(Ge,Ue,he)=>{"use strict";he.d(Ue,{h:()=>de});var N=he(2653),ee=he(7599);function de(ce){ee.z.setTimeout(()=>{const{onUnhandledError:_e}=N.config;if(!_e)throw ce;_e(ce)})}},7061:(Ge,Ue,he)=>{var N=he(8698).default;function ee(){"use strict";Ge.exports=ee=function(){return ce},Ge.exports.__esModule=!0,Ge.exports.default=Ge.exports;var de,ce={},_e=Object.prototype,dt=_e.hasOwnProperty,He=Object.defineProperty||function(G,L,M){G[L]=M.value},Et="function"==typeof Symbol?Symbol:{},Ot=Et.iterator||"@@iterator",bt=Et.asyncIterator||"@@asyncIterator",wt=Et.toStringTag||"@@toStringTag";function Te(G,L,M){return Object.defineProperty(G,L,{value:M,enumerable:!0,configurable:!0,writable:!0}),G[L]}try{Te({},"")}catch{Te=function(M,we,z){return M[we]=z}}function Xt(G,L,M,we){var Ee=Object.create((L&&L.prototype instanceof Rt?L:Rt).prototype),ot=new An(we||[]);return He(Ee,"_invoke",{value:Nn(G,M,ot)}),Ee}function Re(G,L,M){try{return{type:"normal",arg:G.call(L,M)}}catch(we){return{type:"throw",arg:we}}}ce.wrap=Xt;var Qe="suspendedStart",Lt="suspendedYield",lt="executing",Nt="completed",At={};function Rt(){}function $e(){}function ne(){}var yt={};Te(yt,Ot,function(){return this});var Ct=Object.getPrototypeOf,en=Ct&&Ct(Ct(yn([])));en&&en!==_e&&dt.call(en,Ot)&&(yt=en);var tn=ne.prototype=Rt.prototype=Object.create(yt);function ln(G){["next","throw","return"].forEach(function(L){Te(G,L,function(M){return this._invoke(L,M)})})}function pn(G,L){function M(z,Ee,ot,R){var s=Re(G[z],G,Ee);if("throw"!==s.type){var l=s.arg,d=l.value;return d&&"object"==N(d)&&dt.call(d,"__await")?L.resolve(d.__await).then(function(p){M("next",p,ot,R)},function(p){M("throw",p,ot,R)}):L.resolve(d).then(function(p){l.value=p,ot(l)},function(p){return M("throw",p,ot,R)})}R(s.arg)}var we;He(this,"_invoke",{value:function(Ee,ot){function R(){return new L(function(s,l){M(Ee,ot,s,l)})}return we=we?we.then(R,R):R()}})}function Nn(G,L,M){var we=Qe;return function(z,Ee){if(we===lt)throw new Error("Generator is already running");if(we===Nt){if("throw"===z)throw Ee;return{value:de,done:!0}}for(M.method=z,M.arg=Ee;;){var ot=M.delegate;if(ot){var R=jn(ot,M);if(R){if(R===At)continue;return R}}if("next"===M.method)M.sent=M._sent=M.arg;else if("throw"===M.method){if(we===Qe)throw we=Nt,M.arg;M.dispatchException(M.arg)}else"return"===M.method&&M.abrupt("return",M.arg);we=lt;var s=Re(G,L,M);if("normal"===s.type){if(we=M.done?Nt:Lt,s.arg===At)continue;return{value:s.arg,done:M.done}}"throw"===s.type&&(we=Nt,M.method="throw",M.arg=s.arg)}}}function jn(G,L){var M=L.method,we=G.iterator[M];if(we===de)return L.delegate=null,"throw"===M&&G.iterator.return&&(L.method="return",L.arg=de,jn(G,L),"throw"===L.method)||"return"!==M&&(L.method="throw",L.arg=new TypeError("The iterator does not provide a '"+M+"' method")),At;var z=Re(we,G.iterator,L.arg);if("throw"===z.type)return L.method="throw",L.arg=z.arg,L.delegate=null,At;var Ee=z.arg;return Ee?Ee.done?(L[G.resultName]=Ee.value,L.next=G.nextLoc,"return"!==L.method&&(L.method="next",L.arg=de),L.delegate=null,At):Ee:(L.method="throw",L.arg=new TypeError("iterator result is not an object"),L.delegate=null,At)}function En(G){var L={tryLoc:G[0]};1 in G&&(L.catchLoc=G[1]),2 in G&&(L.finallyLoc=G[2],L.afterLoc=G[3]),this.tryEntries.push(L)}function bn(G){var L=G.completion||{};L.type="normal",delete L.arg,G.completion=L}function An(G){this.tryEntries=[{tryLoc:"root"}],G.forEach(En,this),this.reset(!0)}function yn(G){if(G||""===G){var L=G[Ot];if(L)return L.call(G);if("function"==typeof G.next)return G;if(!isNaN(G.length)){var M=-1,we=function z(){for(;++M<G.length;)if(dt.call(G,M))return z.value=G[M],z.done=!1,z;return z.value=de,z.done=!0,z};return we.next=we}}throw new TypeError(N(G)+" is not iterable")}return $e.prototype=ne,He(tn,"constructor",{value:ne,configurable:!0}),He(ne,"constructor",{value:$e,configurable:!0}),$e.displayName=Te(ne,wt,"GeneratorFunction"),ce.isGeneratorFunction=function(G){var L="function"==typeof G&&G.constructor;return!!L&&(L===$e||"GeneratorFunction"===(L.displayName||L.name))},ce.mark=function(G){return Object.setPrototypeOf?Object.setPrototypeOf(G,ne):(G.__proto__=ne,Te(G,wt,"GeneratorFunction")),G.prototype=Object.create(tn),G},ce.awrap=function(G){return{__await:G}},ln(pn.prototype),Te(pn.prototype,bt,function(){return this}),ce.AsyncIterator=pn,ce.async=function(G,L,M,we,z){void 0===z&&(z=Promise);var Ee=new pn(Xt(G,L,M,we),z);return ce.isGeneratorFunction(L)?Ee:Ee.next().then(function(ot){return ot.done?ot.value:Ee.next()})},ln(tn),Te(tn,wt,"Generator"),Te(tn,Ot,function(){return this}),Te(tn,"toString",function(){return"[object Generator]"}),ce.keys=function(G){var L=Object(G),M=[];for(var we in L)M.push(we);return M.reverse(),function z(){for(;M.length;){var Ee=M.pop();if(Ee in L)return z.value=Ee,z.done=!1,z}return z.done=!0,z}},ce.values=yn,An.prototype={constructor:An,reset:function(L){if(this.prev=0,this.next=0,this.sent=this._sent=de,this.done=!1,this.delegate=null,this.method="next",this.arg=de,this.tryEntries.forEach(bn),!L)for(var M in this)"t"===M.charAt(0)&&dt.call(this,M)&&!isNaN(+M.slice(1))&&(this[M]=de)},stop:function(){this.done=!0;var L=this.tryEntries[0].completion;if("throw"===L.type)throw L.arg;return this.rval},dispatchException:function(L){if(this.done)throw L;var M=this;function we(l,d){return ot.type="throw",ot.arg=L,M.next=l,d&&(M.method="next",M.arg=de),!!d}for(var z=this.tryEntries.length-1;z>=0;--z){var Ee=this.tryEntries[z],ot=Ee.completion;if("root"===Ee.tryLoc)return we("end");if(Ee.tryLoc<=this.prev){var R=dt.call(Ee,"catchLoc"),s=dt.call(Ee,"finallyLoc");if(R&&s){if(this.prev<Ee.catchLoc)return we(Ee.catchLoc,!0);if(this.prev<Ee.finallyLoc)return we(Ee.finallyLoc)}else if(R){if(this.prev<Ee.catchLoc)return we(Ee.catchLoc,!0)}else{if(!s)throw new Error("try statement without catch or finally");if(this.prev<Ee.finallyLoc)return we(Ee.finallyLoc)}}}},abrupt:function(L,M){for(var we=this.tryEntries.length-1;we>=0;--we){var z=this.tryEntries[we];if(z.tryLoc<=this.prev&&dt.call(z,"finallyLoc")&&this.prev<z.finallyLoc){var Ee=z;break}}Ee&&("break"===L||"continue"===L)&&Ee.tryLoc<=M&&M<=Ee.finallyLoc&&(Ee=null);var ot=Ee?Ee.completion:{};return ot.type=L,ot.arg=M,Ee?(this.method="next",this.next=Ee.finallyLoc,At):this.complete(ot)},complete:function(L,M){if("throw"===L.type)throw L.arg;return"break"===L.type||"continue"===L.type?this.next=L.arg:"return"===L.type?(this.rval=this.arg=L.arg,this.method="return",this.next="end"):"normal"===L.type&&M&&(this.next=M),At},finish:function(L){for(var M=this.tryEntries.length-1;M>=0;--M){var we=this.tryEntries[M];if(we.finallyLoc===L)return this.complete(we.completion,we.afterLoc),bn(we),At}},catch:function(L){for(var M=this.tryEntries.length-1;M>=0;--M){var we=this.tryEntries[M];if(we.tryLoc===L){var z=we.completion;if("throw"===z.type){var Ee=z.arg;bn(we)}return Ee}}throw new Error("illegal catch attempt")},delegateYield:function(L,M,we){return this.delegate={iterator:yn(L),resultName:M,nextLoc:we},"next"===this.method&&(this.arg=de),At}},ce}Ge.exports=ee,Ge.exports.__esModule=!0,Ge.exports.default=Ge.exports},8698:Ge=>{function Ue(he){return Ge.exports=Ue="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(N){return typeof N}:function(N){return N&&"function"==typeof Symbol&&N.constructor===Symbol&&N!==Symbol.prototype?"symbol":typeof N},Ge.exports.__esModule=!0,Ge.exports.default=Ge.exports,Ue(he)}Ge.exports=Ue,Ge.exports.__esModule=!0,Ge.exports.default=Ge.exports},4687:(Ge,Ue,he)=>{var N=he(7061)();Ge.exports=N;try{regeneratorRuntime=N}catch{"object"==typeof globalThis?globalThis.regeneratorRuntime=N:Function("r","regeneratorRuntime = r")(N)}},9505:(Ge,Ue,he)=>{"use strict";he.d(Ue,{ZP:()=>kn});const N=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:global,ee=Object.keys,de=Array.isArray;function ce(t,e){return"object"!=typeof e||ee(e).forEach(function(n){t[n]=e[n]}),t}typeof Promise>"u"||N.Promise||(N.Promise=Promise);const _e=Object.getPrototypeOf,dt={}.hasOwnProperty;function He(t,e){return dt.call(t,e)}function Et(t,e){"function"==typeof e&&(e=e(_e(t))),(typeof Reflect>"u"?ee:Reflect.ownKeys)(e).forEach(n=>{bt(t,n,e[n])})}const Ot=Object.defineProperty;function bt(t,e,n,r){Ot(t,e,ce(n&&He(n,"get")&&"function"==typeof n.get?{get:n.get,set:n.set,configurable:!0}:{value:n,configurable:!0,writable:!0},r))}function wt(t){return{from:function(e){return t.prototype=Object.create(e.prototype),bt(t.prototype,"constructor",t),{extend:Et.bind(null,t.prototype)}}}}const Te=Object.getOwnPropertyDescriptor;function Xt(t,e){let n;return Te(t,e)||(n=_e(t))&&Xt(n,e)}const Re=[].slice;function Qe(t,e,n){return Re.call(t,e,n)}function Lt(t,e){return e(t)}function lt(t){if(!t)throw new Error("Assertion Failed")}function Nt(t){N.setImmediate?setImmediate(t):setTimeout(t,0)}function At(t,e){return t.reduce((n,r,i)=>{var a=e(r,i);return a&&(n[a[0]]=a[1]),n},{})}function Rt(t,e){if("string"==typeof e&&He(t,e))return t[e];if(!e)return t;if("string"!=typeof e){for(var n=[],r=0,i=e.length;r<i;++r){var a=Rt(t,e[r]);n.push(a)}return n}var f=e.indexOf(".");if(-1!==f){var g=t[e.substr(0,f)];return null==g?void 0:Rt(g,e.substr(f+1))}}function $e(t,e,n){if(t&&void 0!==e&&(!("isFrozen"in Object)||!Object.isFrozen(t)))if("string"!=typeof e&&"length"in e){lt("string"!=typeof n&&"length"in n);for(var r=0,i=e.length;r<i;++r)$e(t,e[r],n[r])}else{var a=e.indexOf(".");if(-1!==a){var f=e.substr(0,a),g=e.substr(a+1);if(""===g)void 0===n?de(t)&&!isNaN(parseInt(f))?t.splice(f,1):delete t[f]:t[f]=n;else{var m=t[f];m&&He(t,f)||(m=t[f]={}),$e(m,g,n)}}else void 0===n?de(t)&&!isNaN(parseInt(e))?t.splice(e,1):delete t[e]:t[e]=n}}function ne(t){var e={};for(var n in t)He(t,n)&&(e[n]=t[n]);return e}const yt=[].concat;function Ct(t){return yt.apply([],t)}const en="BigUint64Array,BigInt64Array,Array,Boolean,String,Date,RegExp,Blob,File,FileList,FileSystemFileHandle,FileSystemDirectoryHandle,ArrayBuffer,DataView,Uint8ClampedArray,ImageBitmap,ImageData,Map,Set,CryptoKey".split(",").concat(Ct([8,16,32,64].map(t=>["Int","Uint","Float"].map(e=>e+t+"Array")))).filter(t=>N[t]),tn=en.map(t=>N[t]);At(en,t=>[t,!0]);let ln=null;function pn(t){ln=typeof WeakMap<"u"&&new WeakMap;const e=Nn(t);return ln=null,e}function Nn(t){if(!t||"object"!=typeof t)return t;let e=ln&&ln.get(t);if(e)return e;if(de(t)){e=[],ln&&ln.set(t,e);for(var n=0,r=t.length;n<r;++n)e.push(Nn(t[n]))}else if(tn.indexOf(t.constructor)>=0)e=t;else{const a=_e(t);for(var i in e=a===Object.prototype?{}:Object.create(a),ln&&ln.set(t,e),t)He(t,i)&&(e[i]=Nn(t[i]))}return e}const{toString:jn}={};function En(t){return jn.call(t).slice(8,-1)}const bn=typeof Symbol<"u"?Symbol.iterator:"@@iterator",An="symbol"==typeof bn?function(t){var e;return null!=t&&(e=t[bn])&&e.apply(t)}:function(){return null},yn={};function G(t){var e,n,r,i;if(1===arguments.length){if(de(t))return t.slice();if(this===yn&&"string"==typeof t)return[t];if(i=An(t)){for(n=[];!(r=i.next()).done;)n.push(r.value);return n}if(null==t)return[t];if("number"==typeof(e=t.length)){for(n=new Array(e);e--;)n[e]=t[e];return n}return[t]}for(e=arguments.length,n=new Array(e);e--;)n[e]=arguments[e];return n}const L=typeof Symbol<"u"?t=>"AsyncFunction"===t[Symbol.toStringTag]:()=>!1;var M=typeof location<"u"&&/^(http|https):\/\/(localhost|127\.0\.0\.1)/.test(location.href);function we(t,e){M=t,z=e}var z=()=>!0;const Ee=!new Error("").stack;function ot(){if(Ee)try{throw new Error}catch(t){return t}return new Error}function R(t,e){var n=t.stack;return n?(e=e||0,0===n.indexOf(t.name)&&(e+=(t.name+t.message).split("\n").length),n.split("\n").slice(e).filter(z).map(r=>"\n"+r).join("")):""}var s=["Unknown","Constraint","Data","TransactionInactive","ReadOnly","Version","NotFound","InvalidState","InvalidAccess","Abort","Timeout","QuotaExceeded","Syntax","DataClone"],l=["Modify","Bulk","OpenFailed","VersionChange","Schema","Upgrade","InvalidTable","MissingAPI","NoSuchDatabase","InvalidArgument","SubTransaction","Unsupported","Internal","DatabaseClosed","PrematureCommit","ForeignAwait"].concat(s),d={VersionChanged:"Database version changed by other database connection",DatabaseClosed:"Database has been closed",Abort:"Transaction aborted",TransactionInactive:"Transaction has already completed or failed",MissingAPI:"IndexedDB API missing. Please visit https://tinyurl.com/y2uuvskb"};function p(t,e){this._e=ot(),this.name=t,this.message=e}function A(t,e){return t+". Errors: "+Object.keys(e).map(n=>e[n].toString()).filter((n,r,i)=>i.indexOf(n)===r).join("\n")}function E(t,e,n,r){this._e=ot(),this.failures=e,this.failedKeys=r,this.successCount=n,this.message=A(t,e)}function ae(t,e){this._e=ot(),this.name="BulkError",this.failures=Object.keys(e).map(n=>e[n]),this.failuresByPos=e,this.message=A(t,e)}wt(p).from(Error).extend({stack:{get:function(){return this._stack||(this._stack=this.name+": "+this.message+R(this._e,2))}},toString:function(){return this.name+": "+this.message}}),wt(E).from(p),wt(ae).from(p);var ge=l.reduce((t,e)=>(t[e]=e+"Error",t),{});const O=p;var B=l.reduce((t,e)=>{var n=e+"Error";function r(i,a){this._e=ot(),this.name=n,i?"string"==typeof i?(this.message=`${i}${a?"\n "+a:""}`,this.inner=a||null):"object"==typeof i&&(this.message=`${i.name} ${i.message}`,this.inner=i):(this.message=d[e]||n,this.inner=null)}return wt(r).from(O),t[e]=r,t},{});B.Syntax=SyntaxError,B.Type=TypeError,B.Range=RangeError;var Ae=s.reduce((t,e)=>(t[e+"Error"]=B[e],t),{}),mt=l.reduce((t,e)=>(-1===["Syntax","Type","Range"].indexOf(e)&&(t[e+"Error"]=B[e]),t),{});function Pe(){}function Ne(t){return t}function Ce(t,e){return null==t||t===Ne?e:function(n){return e(t(n))}}function Ke(t,e){return function(){t.apply(this,arguments),e.apply(this,arguments)}}function Ut(t,e){return t===Pe?e:function(){var n=t.apply(this,arguments);void 0!==n&&(arguments[0]=n);var r=this.onsuccess,i=this.onerror;this.onsuccess=null,this.onerror=null;var a=e.apply(this,arguments);return r&&(this.onsuccess=this.onsuccess?Ke(r,this.onsuccess):r),i&&(this.onerror=this.onerror?Ke(i,this.onerror):i),void 0!==a?a:n}}function Pt(t,e){return t===Pe?e:function(){t.apply(this,arguments);var n=this.onsuccess,r=this.onerror;this.onsuccess=this.onerror=null,e.apply(this,arguments),n&&(this.onsuccess=this.onsuccess?Ke(n,this.onsuccess):n),r&&(this.onerror=this.onerror?Ke(r,this.onerror):r)}}function ue(t,e){return t===Pe?e:function(n){var r=t.apply(this,arguments);ce(n,r);var i=this.onsuccess,a=this.onerror;this.onsuccess=null,this.onerror=null;var f=e.apply(this,arguments);return i&&(this.onsuccess=this.onsuccess?Ke(i,this.onsuccess):i),a&&(this.onerror=this.onerror?Ke(a,this.onerror):a),void 0===r?void 0===f?void 0:f:ce(r,f)}}function Jt(t,e){return t===Pe?e:function(){return!1!==e.apply(this,arguments)&&t.apply(this,arguments)}}function xe(t,e){return t===Pe?e:function(){var n=t.apply(this,arguments);if(n&&"function"==typeof n.then){for(var r=this,i=arguments.length,a=new Array(i);i--;)a[i]=arguments[i];return n.then(function(){return e.apply(r,a)})}return e.apply(this,arguments)}}mt.ModifyError=E,mt.DexieError=p,mt.BulkError=ae;var Ye={};const Xe=100,[Ft,P,h]=typeof Promise>"u"?[]:(()=>{let t=Promise.resolve();if(typeof crypto>"u"||!crypto.subtle)return[t,_e(t),t];const e=crypto.subtle.digest("SHA-512",new Uint8Array([0]));return[e,_e(e),t]})(),$=P&&P.then,I=Ft&&Ft.constructor,Je=!!h;var Ie=!1,rt=h?()=>{h.then(Zt)}:N.setImmediate?setImmediate.bind(null,Zt):N.MutationObserver?()=>{var t=document.createElement("div");new MutationObserver(()=>{Zt(),t=null}).observe(t,{attributes:!0}),t.setAttribute("i","1")}:()=>{setTimeout(Zt,0)},st=function(t,e){it.push([t,e]),Dt&&(rt(),Dt=!1)},xt=!0,Dt=!0,St=[],et=[],pt=null,Mt=Ne,$t={id:"global",global:!0,ref:0,unhandleds:[],onunhandled:ze,pgp:!1,env:{},finalize:function(){this.unhandleds.forEach(t=>{try{ze(t[0],t[1])}catch{}})}},U=$t,it=[],Tt=0,T=[];function b(t){if("object"!=typeof this)throw new TypeError("Promises must be constructed via new");this._listeners=[],this.onuncatched=Pe,this._lib=!1;var e=this._PSD=U;if(M&&(this._stackHolder=ot(),this._prev=null,this._numPrev=0),"function"!=typeof t){if(t!==Ye)throw new TypeError("Not a function");return this._state=arguments[1],this._value=arguments[2],void(!1===this._state&&Be(this,this._value))}this._state=null,this._value=null,++e.ref,W(this,t)}const F={get:function(){var t=U,e=gt;function n(r,i){var a=!t.global&&(t!==U||e!==gt);const f=a&&!u();var g=new b((m,x)=>{Fe(this,new D(ke(r,t,a,f),ke(i,t,a,f),m,x,t))});return M&&Wt(g,this),g}return n.prototype=Ye,n},set:function(t){bt(this,"then",t&&t.prototype===Ye?F:{get:function(){return t},set:F.set})}};function D(t,e,n,r,i){this.onFulfilled="function"==typeof t?t:null,this.onRejected="function"==typeof e?e:null,this.resolve=n,this.reject=r,this.psd=i}function W(t,e){try{e(n=>{if(null===t._state){if(n===t)throw new TypeError("A promise cannot be resolved with itself.");var r=t._lib&&zt();n&&"function"==typeof n.then?W(t,(i,a)=>{n instanceof b?n._then(i,a):n.then(i,a)}):(t._state=!0,t._value=n,Me(t)),r&&Ht()}},Be.bind(null,t))}catch(n){Be(t,n)}}function Be(t,e){if(et.push(e),null===t._state){var n=t._lib&&zt();e=Mt(e),t._state=!1,t._value=e,M&&null!==e&&"object"==typeof e&&!e._promise&&function(r,i,a){try{(()=>{var r=Xt(e,"stack");e._promise=t,bt(e,"stack",{get:()=>Ie?r&&(r.get?r.get.apply(e):r.value):t.stack})}).apply(null,void 0)}catch(f){}}(),r=t,St.some(i=>i._value===r._value)||St.push(r),Me(t),n&&Ht()}var r}function Me(t){var e=t._listeners;t._listeners=[];for(var n=0,r=e.length;n<r;++n)Fe(t,e[n]);var i=t._PSD;--i.ref||i.finalize(),0===Tt&&(++Tt,st(()=>{0==--Tt&&fn()},[]))}function Fe(t,e){if(null!==t._state){var n=t._state?e.onFulfilled:e.onRejected;if(null===n)return(t._state?e.resolve:e.reject)(t._value);++e.psd.ref,++Tt,st(me,[n,t,e])}else t._listeners.push(e)}function me(t,e,n){try{pt=e;var r,i=e._value;e._state?r=t(i):(et.length&&(et=[]),r=t(i),-1===et.indexOf(i)&&function(a){for(var f=St.length;f;)if(St[--f]._value===a._value)return void St.splice(f,1)}(e)),n.resolve(r)}catch(a){n.reject(a)}finally{pt=null,0==--Tt&&fn(),--n.psd.ref||n.psd.finalize()}}function Kt(t,e,n){if(e.length===n)return e;var r="";if(!1===t._state){var i,a,f=t._value;null!=f?(i=f.name||"Error",a=f.message||f,r=R(f,0)):(i=f,a=""),e.push(i+(a?": "+a:"")+r)}return M&&((r=R(t._stackHolder,2))&&-1===e.indexOf(r)&&e.push(r),t._prev&&Kt(t._prev,e,n)),e}function Wt(t,e){var n=e?e._numPrev+1:0;n<100&&(t._prev=e,t._numPrev=n)}function Zt(){zt()&&Ht()}function zt(){var t=xt;return xt=!1,Dt=!1,t}function Ht(){var t,e,n;do{for(;it.length>0;)for(t=it,it=[],n=t.length,e=0;e<n;++e){var r=t[e];r[0].apply(null,r[1])}}while(it.length>0);xt=!0,Dt=!0}function fn(){var t=St;St=[],t.forEach(r=>{r._PSD.onunhandled.call(null,r._value,r)});for(var e=T.slice(0),n=e.length;n;)e[--n]()}function Vt(t){return new b(Ye,!1,t)}function Ze(t,e){var n=U;return function(){var r=zt(),i=U;try{return q(n,!0),t.apply(this,arguments)}catch(a){e&&e(a)}finally{q(i,!1),r&&Ht()}}}Et(b.prototype,{then:F,_then:function(t,e){Fe(this,new D(null,null,t,e,U))},catch:function(t){if(1===arguments.length)return this.then(null,t);var e=arguments[0],n=arguments[1];return this.then(null,"function"==typeof e?r=>r instanceof e?n(r):Vt(r):r=>r&&r.name===e?n(r):Vt(r))},finally:function(t){return this.then(e=>(t(),e),e=>(t(),Vt(e)))},stack:{get:function(){if(this._stack)return this._stack;try{Ie=!0;var t=Kt(this,[],20).join("\nFrom previous: ");return null!==this._state&&(this._stack=t),t}finally{Ie=!1}}},timeout:function(t,e){return t<1/0?new b((n,r)=>{var i=setTimeout(()=>r(new B.Timeout(e)),t);this.then(n,r).finally(clearTimeout.bind(null,i))}):this}}),typeof Symbol<"u"&&Symbol.toStringTag&&bt(b.prototype,Symbol.toStringTag,"Dexie.Promise"),$t.env=fe(),Et(b,{all:function(){var t=G.apply(null,arguments).map(y);return new b(function(e,n){0===t.length&&e([]);var r=t.length;t.forEach((i,a)=>b.resolve(i).then(f=>{t[a]=f,--r||e(t)},n))})},resolve:t=>{if(t instanceof b)return t;if(t&&"function"==typeof t.then)return new b((n,r)=>{t.then(n,r)});var e=new b(Ye,!0,t);return Wt(e,pt),e},reject:Vt,race:function(){var t=G.apply(null,arguments).map(y);return new b((e,n)=>{t.map(r=>b.resolve(r).then(e,n))})},PSD:{get:()=>U,set:t=>U=t},totalEchoes:{get:()=>gt},newPSD:c,usePSD:Q,scheduler:{get:()=>st,set:t=>{st=t}},rejectionMapper:{get:()=>Mt,set:t=>{Mt=t}},follow:(t,e)=>new b((n,r)=>c((i,a)=>{var f=U;f.unhandleds=[],f.onunhandled=a,f.finalize=Ke(function(){var g;g=()=>{0===this.unhandleds.length?i():a(this.unhandleds[0])},T.push(function m(){g(),T.splice(T.indexOf(m),1)}),++Tt,st(()=>{0==--Tt&&fn()},[])},f.finalize),t()},e,n,r))}),I&&(I.allSettled&&bt(b,"allSettled",function(){const t=G.apply(null,arguments).map(y);return new b(e=>{0===t.length&&e([]);let n=t.length;const r=new Array(n);t.forEach((i,a)=>b.resolve(i).then(f=>r[a]={status:"fulfilled",value:f},f=>r[a]={status:"rejected",reason:f}).then(()=>--n||e(r)))})}),I.any&&typeof AggregateError<"u"&&bt(b,"any",function(){const t=G.apply(null,arguments).map(y);return new b((e,n)=>{0===t.length&&n(new AggregateError([]));let r=t.length;const i=new Array(r);t.forEach((a,f)=>b.resolve(a).then(g=>e(g),g=>{i[f]=g,--r||n(new AggregateError(i))}))})}));const De={awaits:0,echoes:0,id:0};var at=0,We=[],tt=0,gt=0,le=0;function c(t,e,n,r){var i=U,a=Object.create(i);a.parent=i,a.ref=0,a.global=!1,a.id=++le;var f=$t.env;a.env=Je?{Promise:b,PromiseProp:{value:b,configurable:!0,writable:!0},all:b.all,race:b.race,allSettled:b.allSettled,any:b.any,resolve:b.resolve,reject:b.reject,nthen:je(f.nthen,a),gthen:je(f.gthen,a)}:{},e&&ce(a,e),++i.ref,a.finalize=function(){--this.parent.ref||this.parent.finalize()};var g=Q(a,t,n,r);return 0===a.ref&&a.finalize(),g}function o(){return De.id||(De.id=++at),++De.awaits,De.echoes+=Xe,De.id}function u(){return!!De.awaits&&(0==--De.awaits&&(De.id=0),De.echoes=De.awaits*Xe,!0)}function y(t){return De.echoes&&t&&t.constructor===I?(o(),t.then(e=>(u(),e),e=>(u(),be(e)))):t}function w(t){++gt,De.echoes&&0!=--De.echoes||(De.echoes=De.id=0),We.push(U),q(t,!0)}function Y(){var t=We[We.length-1];We.pop(),q(t,!1)}function q(t,e){var n=U;if((e?!De.echoes||tt++&&t===U:!tt||--tt&&t===U)||ve(e?w.bind(null,t):Y),t!==U&&(U=t,n===$t&&($t.env=fe()),Je)){var r=$t.env.Promise,i=t.env;P.then=i.nthen,r.prototype.then=i.gthen,(n.global||t.global)&&(Object.defineProperty(N,"Promise",i.PromiseProp),r.all=i.all,r.race=i.race,r.resolve=i.resolve,r.reject=i.reject,i.allSettled&&(r.allSettled=i.allSettled),i.any&&(r.any=i.any))}}function fe(){var t=N.Promise;return Je?{Promise:t,PromiseProp:Object.getOwnPropertyDescriptor(N,"Promise"),all:t.all,race:t.race,allSettled:t.allSettled,any:t.any,resolve:t.resolve,reject:t.reject,nthen:P.then,gthen:t.prototype.then}:{}}function Q(t,e,n,r,i){var a=U;try{return q(t,!0),e(n,r,i)}finally{q(a,!1)}}function ve(t){$.call(Ft,t)}function ke(t,e,n,r){return"function"!=typeof t?t:function(){var i=U;n&&o(),q(e,!0);try{return t.apply(this,arguments)}finally{q(i,!1),r&&ve(u)}}}function je(t,e){return function(n,r){return t.call(this,ke(n,e),ke(r,e))}}-1===(""+$).indexOf("[native code]")&&(o=u=Pe);const nt="unhandledrejection";function ze(t,e){var n;try{n=e.onuncatched(t)}catch{}if(!1!==n)try{var r,i={promise:e,reason:t};if(N.document&&document.createEvent?((r=document.createEvent("Event")).initEvent(nt,!0,!0),ce(r,i)):N.CustomEvent&&ce(r=new CustomEvent(nt,{detail:i}),i),r&&N.dispatchEvent&&(dispatchEvent(r),!N.PromiseRejectionEvent&&N.onunhandledrejection))try{N.onunhandledrejection(r)}catch{}M&&r&&!r.defaultPrevented&&console.warn(`Unhandled rejection: ${t.stack||t}`)}catch{}}var be=b.reject;function ut(t,e,n,r){if(t.idbdb&&(t._state.openComplete||U.letThrough||t._vip)){var i=t._createTransaction(e,n,t._dbSchema);try{i.create(),t._state.PR1398_maxLoop=3}catch(a){return a.name===ge.InvalidState&&t.isOpen()&&--t._state.PR1398_maxLoop>0?(console.warn("Dexie: Need to reopen db"),t._close(),t.open().then(()=>ut(t,e,n,r))):be(a)}return i._promise(e,(a,f)=>c(()=>(U.trans=i,r(a,f,i)))).then(a=>i._completion.then(()=>a))}if(t._state.openComplete)return be(new B.DatabaseClosed(t._state.dbOpenError));if(!t._state.isBeingOpened){if(!t._options.autoOpen)return be(new B.DatabaseClosed);t.open().catch(Pe)}return t._state.dbReadyPromise.then(()=>ut(t,e,n,r))}const Bt=-1/0,re="Invalid key provided. Keys must be of type string, number, Date or Array<string | number | Date>.",J="String expected.",ye=[],pe=typeof navigator<"u"&&/(MSIE|Trident|Edge)/.test(navigator.userAgent),Se=pe,Le=pe,nn=t=>!/(dexie\.js|dexie\.min\.js)/.test(t),vt="__dbnames",qt="readonly",rn="readwrite";function Ve(t,e){return t?e?function(){return t.apply(this,arguments)&&e.apply(this,arguments)}:t:e}const sn={type:3,lower:-1/0,lowerOpen:!1,upper:[[]],upperOpen:!1};function ct(t){return"string"!=typeof t||/\./.test(t)?e=>e:e=>(void 0===e[t]&&t in e&&delete(e=pn(e))[t],e)}class an{_trans(e,n,r){const i=this._tx||U.trans,a=this.name;function f(m,x,v){if(!v.schema[a])throw new B.NotFound("Table "+a+" not part of transaction");return n(v.idbtrans,v)}const g=zt();try{return i&&i.db===this.db?i===U.trans?i._promise(e,f,r):c(()=>i._promise(e,f,r),{trans:i,transless:U.transless||U}):ut(this.db,e,[this.name],f)}finally{g&&Ht()}}get(e,n){return e&&e.constructor===Object?this.where(e).first(n):this._trans("readonly",r=>this.core.get({trans:r,key:e}).then(i=>this.hook.reading.fire(i))).then(n)}where(e){if("string"==typeof e)return new this.db.WhereClause(this,e);if(de(e))return new this.db.WhereClause(this,`[${e.join("+")}]`);const n=ee(e);if(1===n.length)return this.where(n[0]).equals(e[n[0]]);const r=this.schema.indexes.concat(this.schema.primKey).filter(x=>{if(x.compound&&n.every(v=>x.keyPath.indexOf(v)>=0)){for(let v=0;v<n.length;++v)if(-1===n.indexOf(x.keyPath[v]))return!1;return!0}return!1}).sort((x,v)=>x.keyPath.length-v.keyPath.length)[0];if(r&&"\uffff"!==this.db._maxKey){const x=r.keyPath.slice(0,n.length);return this.where(x).equals(x.map(v=>e[v]))}!r&&M&&console.warn(`The query ${JSON.stringify(e)} on ${this.name} would benefit of a compound index [${n.join("+")}]`);const{idxByName:i}=this.schema,a=this.db._deps.indexedDB;function f(x,v){try{return 0===a.cmp(x,v)}catch{return!1}}const[g,m]=n.reduce(([x,v],S)=>{const _=i[S],C=e[S];return[x||_,x||!_?Ve(v,_&&_.multi?Z=>{const K=Rt(Z,S);return de(K)&&K.some(V=>f(C,V))}:Z=>f(C,Rt(Z,S))):v]},[null,null]);return g?this.where(g.name).equals(e[g.keyPath]).filter(m):r?this.filter(m):this.where(n).equals("")}filter(e){return this.toCollection().and(e)}count(e){return this.toCollection().count(e)}offset(e){return this.toCollection().offset(e)}limit(e){return this.toCollection().limit(e)}each(e){return this.toCollection().each(e)}toArray(e){return this.toCollection().toArray(e)}toCollection(){return new this.db.Collection(new this.db.WhereClause(this))}orderBy(e){return new this.db.Collection(new this.db.WhereClause(this,de(e)?`[${e.join("+")}]`:e))}reverse(){return this.toCollection().reverse()}mapToClass(e){this.schema.mappedClass=e;const n=r=>{if(!r)return r;const i=Object.create(e.prototype);for(var a in r)if(He(r,a))try{i[a]=r[a]}catch{}return i};return this.schema.readHook&&this.hook.reading.unsubscribe(this.schema.readHook),this.schema.readHook=n,this.hook("reading",n),e}defineClass(){return this.mapToClass(function(e){ce(this,e)})}add(e,n){const{auto:r,keyPath:i}=this.schema.primKey;let a=e;return i&&r&&(a=ct(i)(e)),this._trans("readwrite",f=>this.core.mutate({trans:f,type:"add",keys:null!=n?[n]:null,values:[a]})).then(f=>f.numFailures?b.reject(f.failures[0]):f.lastResult).then(f=>{if(i)try{$e(e,i,f)}catch{}return f})}update(e,n){if("object"!=typeof e||de(e))return this.where(":id").equals(e).modify(n);{const r=Rt(e,this.schema.primKey.keyPath);if(void 0===r)return be(new B.InvalidArgument("Given object does not contain its primary key"));try{"function"!=typeof n?ee(n).forEach(i=>{$e(e,i,n[i])}):n(e,{value:e,primKey:r})}catch{}return this.where(":id").equals(r).modify(n)}}put(e,n){const{auto:r,keyPath:i}=this.schema.primKey;let a=e;return i&&r&&(a=ct(i)(e)),this._trans("readwrite",f=>this.core.mutate({trans:f,type:"put",values:[a],keys:null!=n?[n]:null})).then(f=>f.numFailures?b.reject(f.failures[0]):f.lastResult).then(f=>{if(i)try{$e(e,i,f)}catch{}return f})}delete(e){return this._trans("readwrite",n=>this.core.mutate({trans:n,type:"delete",keys:[e]})).then(n=>n.numFailures?b.reject(n.failures[0]):void 0)}clear(){return this._trans("readwrite",e=>this.core.mutate({trans:e,type:"deleteRange",range:sn})).then(e=>e.numFailures?b.reject(e.failures[0]):void 0)}bulkGet(e){return this._trans("readonly",n=>this.core.getMany({keys:e,trans:n}).then(r=>r.map(i=>this.hook.reading.fire(i))))}bulkAdd(e,n,r){const i=Array.isArray(n)?n:void 0,a=(r=r||(i?void 0:n))?r.allKeys:void 0;return this._trans("readwrite",f=>{const{auto:g,keyPath:m}=this.schema.primKey;if(m&&i)throw new B.InvalidArgument("bulkAdd(): keys argument invalid on tables with inbound keys");if(i&&i.length!==e.length)throw new B.InvalidArgument("Arguments objects and keys must have the same length");const x=e.length;let v=m&&g?e.map(ct(m)):e;return this.core.mutate({trans:f,type:"add",keys:i,values:v,wantResults:a}).then(({numFailures:S,results:_,lastResult:C,failures:Z})=>{if(0===S)return a?_:C;throw new ae(`${this.name}.bulkAdd(): ${S} of ${x} operations failed`,Z)})})}bulkPut(e,n,r){const i=Array.isArray(n)?n:void 0,a=(r=r||(i?void 0:n))?r.allKeys:void 0;return this._trans("readwrite",f=>{const{auto:g,keyPath:m}=this.schema.primKey;if(m&&i)throw new B.InvalidArgument("bulkPut(): keys argument invalid on tables with inbound keys");if(i&&i.length!==e.length)throw new B.InvalidArgument("Arguments objects and keys must have the same length");const x=e.length;let v=m&&g?e.map(ct(m)):e;return this.core.mutate({trans:f,type:"put",keys:i,values:v,wantResults:a}).then(({numFailures:S,results:_,lastResult:C,failures:Z})=>{if(0===S)return a?_:C;throw new ae(`${this.name}.bulkPut(): ${S} of ${x} operations failed`,Z)})})}bulkDelete(e){const n=e.length;return this._trans("readwrite",r=>this.core.mutate({trans:r,type:"delete",keys:e})).then(({numFailures:r,lastResult:i,failures:a})=>{if(0===r)return i;throw new ae(`${this.name}.bulkDelete(): ${r} of ${n} operations failed`,a)})}}function jt(t){var e={},n=function(f,g){if(g){for(var m=arguments.length,x=new Array(m-1);--m;)x[m-1]=arguments[m];return e[f].subscribe.apply(null,x),t}if("string"==typeof f)return e[f]};n.addEventType=a;for(var r=1,i=arguments.length;r<i;++r)a(arguments[r]);return n;function a(f,g,m){if("object"!=typeof f){var x;g||(g=Jt),m||(m=Pe);var v={subscribers:[],fire:m,subscribe:function(S){-1===v.subscribers.indexOf(S)&&(v.subscribers.push(S),v.fire=g(v.fire,S))},unsubscribe:function(S){v.subscribers=v.subscribers.filter(function(_){return _!==S}),v.fire=v.subscribers.reduce(g,m)}};return e[f]=n[f]=v,v}ee(x=f).forEach(function(S){var _=x[S];if(de(_))a(S,x[S][0],x[S][1]);else{if("asap"!==_)throw new B.InvalidArgument("Invalid event config");var C=a(S,Ne,function(){for(var Z=arguments.length,K=new Array(Z);Z--;)K[Z]=arguments[Z];C.subscribers.forEach(function(V){Nt(function(){V.apply(null,K)})})})}})}}function Qt(t,e){return wt(e).from({prototype:t}),e}function Gt(t,e){return!(t.filter||t.algorithm||t.or)&&(e?t.justLimit:!t.replayFilter)}function Tn(t,e){t.filter=Ve(t.filter,e)}function xn(t,e,n){var r=t.replayFilter;t.replayFilter=r?()=>Ve(r(),e()):e,t.justLimit=n&&!r}function mn(t,e){if(t.isPrimKey)return e.primaryKey;const n=e.getIndexByKeyPath(t.index);if(!n)throw new B.Schema("KeyPath "+t.index+" on object store "+e.name+" is not indexed");return n}function Rn(t,e,n){const r=mn(t,e.schema);return e.openCursor({trans:n,values:!t.keysOnly,reverse:"prev"===t.dir,unique:!!t.unique,query:{index:r,range:t.range}})}function hn(t,e,n,r){const i=t.replayFilter?Ve(t.filter,t.replayFilter()):t.filter;if(t.or){const a={},f=(g,m,x)=>{if(!i||i(m,x,_=>m.stop(_),_=>m.fail(_))){var v=m.primaryKey,S=""+v;"[object ArrayBuffer]"===S&&(S=""+new Uint8Array(v)),He(a,S)||(a[S]=!0,e(g,m,x))}};return Promise.all([t.or._iterate(f,n),Yt(Rn(t,r,n),t.algorithm,f,!t.keysOnly&&t.valueMapper)])}return Yt(Rn(t,r,n),Ve(t.algorithm,i),e,!t.keysOnly&&t.valueMapper)}function Yt(t,e,n,r){var i=Ze(r?(a,f,g)=>n(r(a),f,g):n);return t.then(a=>{if(a)return a.start(()=>{var f=()=>a.continue();e&&!e(a,g=>f=g,g=>{a.stop(g),f=Pe},g=>{a.fail(g),f=Pe})||i(a.value,a,g=>f=g),f()})})}function _t(t,e){try{const n=gn(t),r=gn(e);if(n!==r)return"Array"===n?1:"Array"===r?-1:"binary"===n?1:"binary"===r?-1:"string"===n?1:"string"===r?-1:"Date"===n?1:"Date"!==r?NaN:-1;switch(n){case"number":case"Date":case"string":return t>e?1:t<e?-1:0;case"binary":return function(i,a){const f=i.length,g=a.length,m=f<g?f:g;for(let x=0;x<m;++x)if(i[x]!==a[x])return i[x]<a[x]?-1:1;return f===g?0:f<g?-1:1}(In(t),In(e));case"Array":return function(i,a){const f=i.length,g=a.length,m=f<g?f:g;for(let x=0;x<m;++x){const v=_t(i[x],a[x]);if(0!==v)return v}return f===g?0:f<g?-1:1}(t,e)}}catch{}return NaN}function gn(t){const e=typeof t;if("object"!==e)return e;if(ArrayBuffer.isView(t))return"binary";const n=En(t);return"ArrayBuffer"===n?"binary":n}function In(t){return t instanceof Uint8Array?t:ArrayBuffer.isView(t)?new Uint8Array(t.buffer,t.byteOffset,t.byteLength):new Uint8Array(t)}class Sr{_read(e,n){var r=this._ctx;return r.error?r.table._trans(null,be.bind(null,r.error)):r.table._trans("readonly",e).then(n)}_write(e){var n=this._ctx;return n.error?n.table._trans(null,be.bind(null,n.error)):n.table._trans("readwrite",e,"locked")}_addAlgorithm(e){var n=this._ctx;n.algorithm=Ve(n.algorithm,e)}_iterate(e,n){return hn(this._ctx,e,n,this._ctx.table.core)}clone(e){var n=Object.create(this.constructor.prototype),r=Object.create(this._ctx);return e&&ce(r,e),n._ctx=r,n}raw(){return this._ctx.valueMapper=null,this}each(e){var n=this._ctx;return this._read(r=>hn(n,e,r,n.table.core))}count(e){return this._read(n=>{const r=this._ctx,i=r.table.core;if(Gt(r,!0))return i.count({trans:n,query:{index:mn(r,i.schema),range:r.range}}).then(f=>Math.min(f,r.limit));var a=0;return hn(r,()=>(++a,!1),n,i).then(()=>a)}).then(e)}sortBy(e,n){const r=e.split(".").reverse(),i=r[0],a=r.length-1;function f(x,v){return v?f(x[r[v]],v-1):x[i]}var g="next"===this._ctx.dir?1:-1;function m(x,v){var S=f(x,a),_=f(v,a);return S<_?-g:S>_?g:0}return this.toArray(function(x){return x.sort(m)}).then(n)}toArray(e){return this._read(n=>{var r=this._ctx;if("next"===r.dir&&Gt(r,!0)&&r.limit>0){const{valueMapper:i}=r,a=mn(r,r.table.core.schema);return r.table.core.query({trans:n,limit:r.limit,values:!0,query:{index:a,range:r.range}}).then(({result:f})=>i?f.map(i):f)}{const i=[];return hn(r,a=>i.push(a),n,r.table.core).then(()=>i)}},e)}offset(e){var n=this._ctx;return e<=0||(n.offset+=e,Gt(n)?xn(n,()=>{var r=e;return(i,a)=>0===r||(1===r?(--r,!1):(a(()=>{i.advance(r),r=0}),!1))}):xn(n,()=>{var r=e;return()=>--r<0})),this}limit(e){return this._ctx.limit=Math.min(this._ctx.limit,e),xn(this._ctx,()=>{var n=e;return function(r,i,a){return--n<=0&&i(a),n>=0}},!0),this}until(e,n){return Tn(this._ctx,function(r,i,a){return!e(r.value)||(i(a),n)}),this}first(e){return this.limit(1).toArray(function(n){return n[0]}).then(e)}last(e){return this.reverse().first(e)}filter(e){var n;return Tn(this._ctx,function(i){return e(i.value)}),(n=this._ctx).isMatch=Ve(n.isMatch,e),this}and(e){return this.filter(e)}or(e){return new this.db.WhereClause(this._ctx.table,e,this)}reverse(){return this._ctx.dir="prev"===this._ctx.dir?"next":"prev",this._ondirectionchange&&this._ondirectionchange(this._ctx.dir),this}desc(){return this.reverse()}eachKey(e){var n=this._ctx;return n.keysOnly=!n.isMatch,this.each(function(r,i){e(i.key,i)})}eachUniqueKey(e){return this._ctx.unique="unique",this.eachKey(e)}eachPrimaryKey(e){var n=this._ctx;return n.keysOnly=!n.isMatch,this.each(function(r,i){e(i.primaryKey,i)})}keys(e){var n=this._ctx;n.keysOnly=!n.isMatch;var r=[];return this.each(function(i,a){r.push(a.key)}).then(function(){return r}).then(e)}primaryKeys(e){var n=this._ctx;if("next"===n.dir&&Gt(n,!0)&&n.limit>0)return this._read(i=>{var a=mn(n,n.table.core.schema);return n.table.core.query({trans:i,values:!1,limit:n.limit,query:{index:a,range:n.range}})}).then(({result:i})=>i).then(e);n.keysOnly=!n.isMatch;var r=[];return this.each(function(i,a){r.push(a.primaryKey)}).then(function(){return r}).then(e)}uniqueKeys(e){return this._ctx.unique="unique",this.keys(e)}firstKey(e){return this.limit(1).keys(function(n){return n[0]}).then(e)}lastKey(e){return this.reverse().firstKey(e)}distinct(){var e=this._ctx,n=e.index&&e.table.schema.idxByName[e.index];if(!n||!n.multi)return this;var r={};return Tn(this._ctx,function(i){var a=i.primaryKey.toString(),f=He(r,a);return r[a]=!0,!f}),this}modify(e){var n=this._ctx;return this._write(r=>{var i;if("function"==typeof e)i=e;else{var a=ee(e),f=a.length;i=function(K){for(var V=!1,j=0;j<f;++j){var k=a[j],X=e[k];Rt(K,k)!==X&&($e(K,k,X),V=!0)}return V}}const g=n.table.core,{outbound:m,extractKey:x}=g.schema.primaryKey,v=this.db._options.modifyChunkSize||200,S=[];let _=0;const C=[],Z=(K,V)=>{const{failures:j,numFailures:k}=V;_+=K-k;for(let X of ee(j))S.push(j[X])};return this.clone().primaryKeys().then(K=>{const V=j=>{const k=Math.min(v,K.length-j);return g.getMany({trans:r,keys:K.slice(j,j+k),cache:"immutable"}).then(X=>{const oe=[],se=[],ie=m?[]:null,H=[];for(let te=0;te<k;++te){const It=X[te],ht={value:pn(It),primKey:K[j+te]};!1!==i.call(ht,ht.value,ht)&&(null==ht.value?H.push(K[j+te]):m||0===_t(x(It),x(ht.value))?(se.push(ht.value),m&&ie.push(K[j+te])):(H.push(K[j+te]),oe.push(ht.value)))}const qe=Gt(n)&&n.limit===1/0&&("function"!=typeof e||e===zn)&&{index:n.index,range:n.range};return Promise.resolve(oe.length>0&&g.mutate({trans:r,type:"add",values:oe}).then(te=>{for(let It in te.failures)H.splice(parseInt(It),1);Z(oe.length,te)})).then(()=>(se.length>0||qe&&"object"==typeof e)&&g.mutate({trans:r,type:"put",keys:ie,values:se,criteria:qe,changeSpec:"function"!=typeof e&&e}).then(te=>Z(se.length,te))).then(()=>(H.length>0||qe&&e===zn)&&g.mutate({trans:r,type:"delete",keys:H,criteria:qe}).then(te=>Z(H.length,te))).then(()=>K.length>j+k&&V(j+v))})};return V(0).then(()=>{if(S.length>0)throw new E("Error modifying one or more objects",S,_,C);return K.length})})})}delete(){var e=this._ctx,n=e.range;return Gt(e)&&(e.isPrimKey&&!Le||3===n.type)?this._write(r=>{const{primaryKey:i}=e.table.core.schema,a=n;return e.table.core.count({trans:r,query:{index:i,range:a}}).then(f=>e.table.core.mutate({trans:r,type:"deleteRange",range:a}).then(({failures:g,numFailures:v})=>{if(v)throw new E("Could not delete some values",Object.keys(g).map(S=>g[S]),f-v);return f-v}))}):this.modify(zn)}}const zn=(t,e)=>e.value=null;function Or(t,e){return t<e?-1:t===e?0:1}function Pr(t,e){return t>e?-1:t===e?0:1}function dn(t,e,n){var r=t instanceof yr?new t.Collection(t):t;return r._ctx.error=n?new n(e):new TypeError(e),r}function Kn(t){return new t.Collection(t,()=>pr("")).limit(0)}function Nr(t,e,n,r,i,a){for(var f=Math.min(t.length,r.length),g=-1,m=0;m<f;++m){var x=e[m];if(x!==r[m])return i(t[m],n[m])<0?t.substr(0,m)+n[m]+n.substr(m+1):i(t[m],r[m])<0?t.substr(0,m)+r[m]+n.substr(m+1):g>=0?t.substr(0,g)+e[g]+n.substr(g+1):null;i(t[m],x)<0&&(g=m)}return f<r.length&&"next"===a?t+n.substr(t.length):f<t.length&&"prev"===a?t.substr(0,n.length):g<0?null:t.substr(0,g)+r[g]+n.substr(g+1)}function qn(t,e,n,r){var i,a,f,g,m,x,v,S=n.length;if(!n.every(K=>"string"==typeof K))return dn(t,J);function _(K){i=function(j){return"next"===j?k=>k.toUpperCase():k=>k.toLowerCase()}(K),a=function(j){return"next"===j?k=>k.toLowerCase():k=>k.toUpperCase()}(K),f="next"===K?Or:Pr;var V=n.map(function(j){return{lower:a(j),upper:i(j)}}).sort(function(j,k){return f(j.lower,k.lower)});g=V.map(function(j){return j.upper}),m=V.map(function(j){return j.lower}),x=K,v="next"===K?"":r}_("next");var C=new t.Collection(t,()=>Sn(g[0],m[S-1]+r));C._ondirectionchange=function(K){_(K)};var Z=0;return C._addAlgorithm(function(K,V,j){var k=K.key;if("string"!=typeof k)return!1;var X=a(k);if(e(X,m,Z))return!0;for(var oe=null,se=Z;se<S;++se){var ie=Nr(k,X,g[se],m[se],f,x);null===ie&&null===oe?Z=se+1:(null===oe||f(oe,ie)>0)&&(oe=ie)}return V(null!==oe?function(){K.continue(oe+v)}:j),!1}),C}function Sn(t,e,n,r){return{type:2,lower:t,upper:e,lowerOpen:n,upperOpen:r}}function pr(t){return{type:1,lower:t,upper:t}}class yr{get Collection(){return this._ctx.table.db.Collection}between(e,n,r,i){r=!1!==r,i=!0===i;try{return this._cmp(e,n)>0||0===this._cmp(e,n)&&(r||i)&&(!r||!i)?Kn(this):new this.Collection(this,()=>Sn(e,n,!r,!i))}catch{return dn(this,re)}}equals(e){return null==e?dn(this,re):new this.Collection(this,()=>pr(e))}above(e){return null==e?dn(this,re):new this.Collection(this,()=>Sn(e,void 0,!0))}aboveOrEqual(e){return null==e?dn(this,re):new this.Collection(this,()=>Sn(e,void 0,!1))}below(e){return null==e?dn(this,re):new this.Collection(this,()=>Sn(void 0,e,!1,!0))}belowOrEqual(e){return null==e?dn(this,re):new this.Collection(this,()=>Sn(void 0,e))}startsWith(e){return"string"!=typeof e?dn(this,J):this.between(e,e+"\uffff",!0,!0)}startsWithIgnoreCase(e){return""===e?this.startsWith(e):qn(this,(n,r)=>0===n.indexOf(r[0]),[e],"\uffff")}equalsIgnoreCase(e){return qn(this,(n,r)=>n===r[0],[e],"")}anyOfIgnoreCase(){var e=G.apply(yn,arguments);return 0===e.length?Kn(this):qn(this,(n,r)=>-1!==r.indexOf(n),e,"")}startsWithAnyOfIgnoreCase(){var e=G.apply(yn,arguments);return 0===e.length?Kn(this):qn(this,(n,r)=>r.some(i=>0===n.indexOf(i)),e,"\uffff")}anyOf(){const e=G.apply(yn,arguments);let n=this._cmp;try{e.sort(n)}catch{return dn(this,re)}if(0===e.length)return Kn(this);const r=new this.Collection(this,()=>Sn(e[0],e[e.length-1]));r._ondirectionchange=a=>{n="next"===a?this._ascending:this._descending,e.sort(n)};let i=0;return r._addAlgorithm((a,f,g)=>{const m=a.key;for(;n(m,e[i])>0;)if(++i,i===e.length)return f(g),!1;return 0===n(m,e[i])||(f(()=>{a.continue(e[i])}),!1)}),r}notEqual(e){return this.inAnyRange([[Bt,e],[e,this.db._maxKey]],{includeLowers:!1,includeUppers:!1})}noneOf(){const e=G.apply(yn,arguments);if(0===e.length)return new this.Collection(this);try{e.sort(this._ascending)}catch{return dn(this,re)}const n=e.reduce((r,i)=>r?r.concat([[r[r.length-1][1],i]]):[[Bt,i]],null);return n.push([e[e.length-1],this.db._maxKey]),this.inAnyRange(n,{includeLowers:!1,includeUppers:!1})}inAnyRange(e,n){const r=this._cmp,i=this._ascending,a=this._descending,f=this._min,g=this._max;if(0===e.length)return Kn(this);if(!e.every(k=>void 0!==k[0]&&void 0!==k[1]&&i(k[0],k[1])<=0))return dn(this,"First argument to inAnyRange() must be an Array of two-value Arrays [lower,upper] where upper must not be lower than lower",B.InvalidArgument);const m=!n||!1!==n.includeLowers,x=n&&!0===n.includeUppers;let v,S=i;function _(k,X){return S(k[0],X[0])}try{v=e.reduce(function(k,X){let oe=0,se=k.length;for(;oe<se;++oe){const ie=k[oe];if(r(X[0],ie[1])<0&&r(X[1],ie[0])>0){ie[0]=f(ie[0],X[0]),ie[1]=g(ie[1],X[1]);break}}return oe===se&&k.push(X),k},[]),v.sort(_)}catch{return dn(this,re)}let C=0;const Z=x?k=>i(k,v[C][1])>0:k=>i(k,v[C][1])>=0,K=m?k=>a(k,v[C][0])>0:k=>a(k,v[C][0])>=0;let V=Z;const j=new this.Collection(this,()=>Sn(v[0][0],v[v.length-1][1],!m,!x));return j._ondirectionchange=k=>{"next"===k?(V=Z,S=i):(V=K,S=a),v.sort(_)},j._addAlgorithm((k,X,oe)=>{for(var se=k.key;V(se);)if(++C,C===v.length)return X(oe),!1;return!((Z(ie=se)||K(ie))&&(0===this._cmp(se,v[C][1])||0===this._cmp(se,v[C][0])||X(()=>{k.continue(S===i?v[C][0]:v[C][1])}),1));var ie}),j}startsWithAnyOf(){const e=G.apply(yn,arguments);return e.every(n=>"string"==typeof n)?0===e.length?Kn(this):this.inAnyRange(e.map(n=>[n,n+"\uffff"])):dn(this,"startsWithAnyOf() only works with strings")}}function vn(t){return Ze(function(e){return Ln(e),t(e.target.error),!1})}function Ln(t){t.stopPropagation&&t.stopPropagation(),t.preventDefault&&t.preventDefault()}const Un="storagemutated",On="x-storagemutated-1",Pn=jt(null,Un);class Tr{_lock(){return lt(!U.global),++this._reculock,1!==this._reculock||U.global||(U.lockOwnerFor=this),this}_unlock(){if(lt(!U.global),0==--this._reculock)for(U.global||(U.lockOwnerFor=null);this._blockedFuncs.length>0&&!this._locked();){var e=this._blockedFuncs.shift();try{Q(e[1],e[0])}catch{}}return this}_locked(){return this._reculock&&U.lockOwnerFor!==this}create(e){if(!this.mode)return this;const n=this.db.idbdb,r=this.db._state.dbOpenError;if(lt(!this.idbtrans),!e&&!n)switch(r&&r.name){case"DatabaseClosedError":throw new B.DatabaseClosed(r);case"MissingAPIError":throw new B.MissingAPI(r.message,r);default:throw new B.OpenFailed(r)}if(!this.active)throw new B.TransactionInactive;return lt(null===this._completion._state),(e=this.idbtrans=e||(this.db.core?this.db.core.transaction(this.storeNames,this.mode,{durability:this.chromeTransactionDurability}):n.transaction(this.storeNames,this.mode,{durability:this.chromeTransactionDurability}))).onerror=Ze(i=>{Ln(i),this._reject(e.error)}),e.onabort=Ze(i=>{Ln(i),this.active&&this._reject(new B.Abort(e.error)),this.active=!1,this.on("abort").fire(i)}),e.oncomplete=Ze(()=>{this.active=!1,this._resolve(),"mutatedParts"in e&&Pn.storagemutated.fire(e.mutatedParts)}),this}_promise(e,n,r){if("readwrite"===e&&"readwrite"!==this.mode)return be(new B.ReadOnly("Transaction is readonly"));if(!this.active)return be(new B.TransactionInactive);if(this._locked())return new b((a,f)=>{this._blockedFuncs.push([()=>{this._promise(e,n,r).then(a,f)},U])});if(r)return c(()=>{var a=new b((f,g)=>{this._lock();const m=n(f,g,this);m&&m.then&&m.then(f,g)});return a.finally(()=>this._unlock()),a._lib=!0,a});var i=new b((a,f)=>{var g=n(a,f,this);g&&g.then&&g.then(a,f)});return i._lib=!0,i}_root(){return this.parent?this.parent._root():this}waitFor(e){var n=this._root();const r=b.resolve(e);if(n._waitingFor)n._waitingFor=n._waitingFor.then(()=>r);else{n._waitingFor=r,n._waitingQueue=[];var i=n.idbtrans.objectStore(n.storeNames[0]);!function f(){for(++n._spinCount;n._waitingQueue.length;)n._waitingQueue.shift()();n._waitingFor&&(i.get(-1/0).onsuccess=f)}()}var a=n._waitingFor;return new b((f,g)=>{r.then(m=>n._waitingQueue.push(Ze(f.bind(null,m))),m=>n._waitingQueue.push(Ze(g.bind(null,m)))).finally(()=>{n._waitingFor===a&&(n._waitingFor=null)})})}abort(){this.active&&(this.active=!1,this.idbtrans&&this.idbtrans.abort(),this._reject(new B.Abort))}table(e){const n=this._memoizedTables||(this._memoizedTables={});if(He(n,e))return n[e];const r=this.schema[e];if(!r)throw new B.NotFound("Table "+e+" not part of transaction");const i=new this.db.Table(e,r,this);return i.core=this.db.core.table(e),n[e]=i,i}}function Hn(t,e,n,r,i,a,f){return{name:t,keyPath:e,unique:n,multi:r,auto:i,compound:a,src:(n&&!f?"&":"")+(r?"*":"")+(i?"++":"")+mr(e)}}function mr(t){return"string"==typeof t?t:t?"["+[].join.call(t,"+")+"]":""}function gr(t,e,n){return{name:t,primKey:e,indexes:n,mappedClass:null,idxByName:At(n,r=>[r.name,r])}}let Mn=t=>{try{return t.only([[]]),Mn=()=>[[]],[[]]}catch{return Mn=()=>"\uffff","\uffff"}};function Qn(t){return null==t?()=>{}:"string"==typeof t?1===(e=t).split(".").length?r=>r[e]:r=>Rt(r,e):e=>Rt(e,t);var e}function vr(t){return[].slice.call(t)}let Ir=0;function $n(t){return null==t?":id":"string"==typeof t?t:`[${t.join("+")}]`}function kr(t,e,n){function r(m){if(3===m.type)return null;if(4===m.type)throw new Error("Cannot convert never type to IDBKeyRange");const{lower:x,upper:v,lowerOpen:S,upperOpen:_}=m;return void 0===x?void 0===v?null:e.upperBound(v,!!_):void 0===v?e.lowerBound(x,!!S):e.bound(x,v,!!S,!!_)}const{schema:i,hasGetAll:a}=function(m,x){const v=vr(m.objectStoreNames);return{schema:{name:m.name,tables:v.map(S=>x.objectStore(S)).map(S=>{const{keyPath:_,autoIncrement:C}=S,Z=de(_),V={},j={name:S.name,primaryKey:{name:null,isPrimaryKey:!0,outbound:null==_,compound:Z,keyPath:_,autoIncrement:C,unique:!0,extractKey:Qn(_)},indexes:vr(S.indexNames).map(k=>S.index(k)).map(k=>{const{name:X,unique:oe,multiEntry:se,keyPath:ie}=k,H={name:X,compound:de(ie),keyPath:ie,unique:oe,multiEntry:se,extractKey:Qn(ie)};return V[$n(ie)]=H,H}),getIndexByKeyPath:k=>V[$n(k)]};return V[":id"]=j.primaryKey,null!=_&&(V[$n(_)]=j.primaryKey),j})},hasGetAll:v.length>0&&"getAll"in x.objectStore(v[0])&&!(typeof navigator<"u"&&/Safari/.test(navigator.userAgent)&&!/(Chrome\/|Edge\/)/.test(navigator.userAgent)&&[].concat(navigator.userAgent.match(/Safari\/(\d*)/))[1]<604)}}(t,n),f=i.tables.map(m=>function(x){const v=x.name;return{name:v,schema:x,mutate:function({trans:S,type:_,keys:C,values:Z,range:K}){return new Promise((V,j)=>{V=Ze(V);const k=S.objectStore(v),X=null==k.keyPath,oe="put"===_||"add"===_;if(!oe&&"delete"!==_&&"deleteRange"!==_)throw new Error("Invalid operation type: "+_);const{length:se}=C||Z||{length:1};if(C&&Z&&C.length!==Z.length)throw new Error("Given keys array must have same length as given values array.");if(0===se)return V({numFailures:0,failures:{},results:[],lastResult:void 0});let ie;const H=[],qe=[];let te=0;const It=un=>{++te,Ln(un)};if("deleteRange"===_){if(4===K.type)return V({numFailures:te,failures:qe,results:[],lastResult:void 0});H.push(ie=3===K.type?k.clear():k.delete(r(K)))}else{const[un,on]=oe?X?[Z,C]:[Z,null]:[C,null];if(oe)for(let kt=0;kt<se;++kt)H.push(ie=on&&void 0!==on[kt]?k[_](un[kt],on[kt]):k[_](un[kt])),ie.onerror=It;else for(let kt=0;kt<se;++kt)H.push(ie=k[_](un[kt])),ie.onerror=It}const ht=un=>{const on=un.target.result;H.forEach((kt,Fn)=>null!=kt.error&&(qe[Fn]=kt.error)),V({numFailures:te,failures:qe,results:"delete"===_?C:H.map(kt=>kt.result),lastResult:on})};ie.onerror=un=>{It(un),ht(un)},ie.onsuccess=ht})},getMany:({trans:S,keys:_})=>new Promise((C,Z)=>{C=Ze(C);const K=S.objectStore(v),V=_.length,j=new Array(V);let k,X=0,oe=0;const se=H=>{const qe=H.target;j[qe._pos]=qe.result,++oe===X&&C(j)},ie=vn(Z);for(let H=0;H<V;++H)null!=_[H]&&(k=K.get(_[H]),k._pos=H,k.onsuccess=se,k.onerror=ie,++X);0===X&&C(j)}),get:({trans:S,key:_})=>new Promise((C,Z)=>{C=Ze(C);const K=S.objectStore(v).get(_);K.onsuccess=V=>C(V.target.result),K.onerror=vn(Z)}),query:function(S){return _=>new Promise((C,Z)=>{C=Ze(C);const{trans:K,values:V,limit:j,query:k}=_,X=j===1/0?void 0:j,{index:oe,range:se}=k,ie=K.objectStore(v),H=oe.isPrimaryKey?ie:ie.index(oe.name),qe=r(se);if(0===j)return C({result:[]});if(S){const te=V?H.getAll(qe,X):H.getAllKeys(qe,X);te.onsuccess=It=>C({result:It.target.result}),te.onerror=vn(Z)}else{let te=0;const It=V||!("openKeyCursor"in H)?H.openCursor(qe):H.openKeyCursor(qe),ht=[];It.onsuccess=un=>{const on=It.result;return on?(ht.push(V?on.value:on.primaryKey),++te===j?C({result:ht}):void on.continue()):C({result:ht})},It.onerror=vn(Z)}})}(a),openCursor:function({trans:S,values:_,query:C,reverse:Z,unique:K}){return new Promise((V,j)=>{V=Ze(V);const{index:k,range:X}=C,oe=S.objectStore(v),se=k.isPrimaryKey?oe:oe.index(k.name),ie=Z?K?"prevunique":"prev":K?"nextunique":"next",H=_||!("openKeyCursor"in se)?se.openCursor(r(X),ie):se.openKeyCursor(r(X),ie);H.onerror=vn(j),H.onsuccess=Ze(qe=>{const te=H.result;if(!te)return void V(null);te.___id=++Ir,te.done=!1;const It=te.continue.bind(te);let ht=te.continuePrimaryKey;ht&&(ht=ht.bind(te));const un=te.advance.bind(te),on=()=>{throw new Error("Cursor not stopped")};te.trans=S,te.stop=te.continue=te.continuePrimaryKey=te.advance=()=>{throw new Error("Cursor not started")},te.fail=Ze(j),te.next=function(){let kt=1;return this.start(()=>kt--?this.continue():this.stop()).then(()=>this)},te.start=kt=>{const Fn=new Promise((cn,Bn)=>{cn=Ze(cn),H.onerror=vn(Bn),te.fail=Bn,te.stop=Vn=>{te.stop=te.continue=te.continuePrimaryKey=te.advance=on,cn(Vn)}}),Dn=()=>{if(H.result)try{kt()}catch(cn){te.fail(cn)}else te.done=!0,te.start=()=>{throw new Error("Cursor behind last entry")},te.stop()};return H.onsuccess=Ze(cn=>{H.onsuccess=Dn,Dn()}),te.continue=It,te.continuePrimaryKey=ht,te.advance=un,Dn(),Fn},V(te)},j)})},count({query:S,trans:_}){const{index:C,range:Z}=S;return new Promise((K,V)=>{const j=_.objectStore(v),k=C.isPrimaryKey?j:j.index(C.name),X=r(Z),oe=X?k.count(X):k.count();oe.onsuccess=Ze(se=>K(se.target.result)),oe.onerror=vn(V)})}}}(m)),g={};return f.forEach(m=>g[m.name]=m),{stack:"dbcore",transaction:t.transaction.bind(t),table(m){if(!g[m])throw new Error(`Table '${m}' not found`);return g[m]},MIN_KEY:-1/0,MAX_KEY:Mn(e),schema:i}}function Xn({_novip:t},e){const r=function(i,a,{IDBKeyRange:f},m){return{dbcore:(v=kr(a,f,m),S=i.dbcore,S.reduce((_,{create:C})=>({..._,...C(_)}),v))};var v,S}(t._middlewares,e.db,t._deps,e);t.core=r.dbcore,t.tables.forEach(i=>{const a=i.name;t.core.schema.tables.some(f=>f.name===a)&&(i.core=t.core.table(a),t[a]instanceof t.Table&&(t[a].core=i.core))})}function Gn({_novip:t},e,n,r){n.forEach(i=>{const a=r[i];e.forEach(f=>{const g=Xt(f,i);(!g||"value"in g&&void 0===g.value)&&(f===t.Transaction.prototype||f instanceof t.Transaction?bt(f,i,{get(){return this.table(i)},set(m){Ot(this,i,{value:m,writable:!0,configurable:!0,enumerable:!0})}}):f[i]=new t.Table(i,a))})})}function er({_novip:t},e){e.forEach(n=>{for(let r in n)n[r]instanceof t.Table&&delete n[r]})}function Cr(t,e){return t._cfg.version-e._cfg.version}function br(t,e){const n={del:[],add:[],change:[]};let r;for(r in t)e[r]||n.del.push(r);for(r in e){const i=t[r],a=e[r];if(i){const f={name:r,def:a,recreate:!1,del:[],add:[],change:[]};if(""+(i.primKey.keyPath||"")!=""+(a.primKey.keyPath||"")||i.primKey.auto!==a.primKey.auto&&!pe)f.recreate=!0,n.change.push(f);else{const g=i.idxByName,m=a.idxByName;let x;for(x in g)m[x]||f.del.push(x);for(x in m){const v=g[x],S=m[x];v?v.src!==S.src&&f.change.push(S):f.add.push(S)}(f.del.length>0||f.add.length>0||f.change.length>0)&&n.change.push(f)}}else n.add.push([r,a])}return n}function tr(t,e,n,r){const i=t.db.createObjectStore(e,n.keyPath?{keyPath:n.keyPath,autoIncrement:n.auto}:{autoIncrement:n.auto});return r.forEach(a=>nr(i,a)),i}function nr(t,e){t.createIndex(e.name,e.keyPath,{unique:e.unique,multiEntry:e.multi})}function rr(t,e,n){const r={};return Qe(e.objectStoreNames,0).forEach(i=>{const a=n.objectStore(i);let f=a.keyPath;const g=Hn(mr(f),f||"",!1,!1,!!a.autoIncrement,f&&"string"!=typeof f,!0),m=[];for(let v=0;v<a.indexNames.length;++v){const S=a.index(a.indexNames[v]);f=S.keyPath;var x=Hn(S.name,f,!!S.unique,!!S.multiEntry,!1,f&&"string"!=typeof f,!1);m.push(x)}r[i]=gr(i,g,m)}),r}function ir({_novip:t},e,n){const r=n.db.objectStoreNames;for(let i=0;i<r.length;++i){const a=r[i],f=n.objectStore(a);t._hasGetAll="getAll"in f;for(let g=0;g<f.indexNames.length;++g){const m=f.indexNames[g],x=f.index(m).keyPath,v="string"==typeof x?x:"["+Qe(x).join("+")+"]";if(e[a]){const S=e[a].idxByName[v];S&&(S.name=m,delete e[a].idxByName[v],e[a].idxByName[m]=S)}}}typeof navigator<"u"&&/Safari/.test(navigator.userAgent)&&!/(Chrome\/|Edge\/)/.test(navigator.userAgent)&&N.WorkerGlobalScope&&N instanceof N.WorkerGlobalScope&&[].concat(navigator.userAgent.match(/Safari\/(\d*)/))[1]<604&&(t._hasGetAll=!1)}class jr{_parseStoresSpec(e,n){ee(e).forEach(r=>{if(null!==e[r]){var i=e[r].split(",").map((f,g)=>{const m=(f=f.trim()).replace(/([&*]|\+\+)/g,""),x=/^\[/.test(m)?m.match(/^\[(.*)\]$/)[1].split("+"):m;return Hn(m,x||null,/\&/.test(f),/\*/.test(f),/\+\+/.test(f),de(x),0===g)}),a=i.shift();if(a.multi)throw new B.Schema("Primary key cannot be multi-valued");i.forEach(f=>{if(f.auto)throw new B.Schema("Only primary key can be marked as autoIncrement (++)");if(!f.keyPath)throw new B.Schema("Index must have a name and cannot be an empty string")}),n[r]=gr(r,a,i)}})}stores(e){const n=this.db;this._cfg.storesSource=this._cfg.storesSource?ce(this._cfg.storesSource,e):e;const i={};let a={};return n._versions.forEach(f=>{ce(i,f._cfg.storesSource),a=f._cfg.dbschema={},f._parseStoresSpec(i,a)}),n._dbSchema=a,er(n,[n._allTables,n,n.Transaction.prototype]),Gn(n,[n._allTables,n,n.Transaction.prototype,this._cfg.tables],ee(a),a),n._storeNames=ee(a),this}upgrade(e){return this._cfg.contentUpgrade=xe(this._cfg.contentUpgrade||Pe,e),this}}function or(t,e){let n=t._dbNamesDB;return n||(n=t._dbNamesDB=new kn(vt,{addons:[],indexedDB:t,IDBKeyRange:e}),n.version(1).stores({dbnames:"name"})),n.table("dbnames")}function sr(t){return t&&"function"==typeof t.databases}function ar(t){return c(function(){return U.letThrough=!0,t()})}function Rr(){var t;return!navigator.userAgentData&&/Safari\//.test(navigator.userAgent)&&!/Chrom(e|ium)\//.test(navigator.userAgent)&&indexedDB.databases?new Promise(function(e){var n=function(){return indexedDB.databases().finally(e)};t=setInterval(n,100),n()}).finally(function(){return clearInterval(t)}):Promise.resolve()}function ur(t){var e=a=>t.next(a),n=i(e),r=i(a=>t.throw(a));function i(a){return f=>{var g=a(f),m=g.value;return g.done?m:m&&"function"==typeof m.then?m.then(n,r):de(m)?Promise.all(m).then(n,r):n(m)}}return i(e)()}function Fr(t,e,n){var r=arguments.length;if(r<2)throw new B.InvalidArgument("Too few arguments");for(var i=new Array(r-1);--r;)i[r-1]=arguments[r];return n=i.pop(),[t,Ct(i),n]}function wr(t,e,n,r,i){return b.resolve().then(()=>{const a=U.transless||U,f=t._createTransaction(e,n,t._dbSchema,r),g={trans:f,transless:a};if(r)f.idbtrans=r.idbtrans;else try{f.create(),t._state.PR1398_maxLoop=3}catch(S){return S.name===ge.InvalidState&&t.isOpen()&&--t._state.PR1398_maxLoop>0?(console.warn("Dexie: Need to reopen db"),t._close(),t.open().then(()=>wr(t,e,n,null,i))):be(S)}const m=L(i);let x;m&&o();const v=b.follow(()=>{if(x=i.call(f,f),x)if(m){var S=u.bind(null,null);x.then(S,S)}else"function"==typeof x.next&&"function"==typeof x.throw&&(x=ur(x))},g);return(x&&"function"==typeof x.then?b.resolve(x).then(S=>f.active?S:be(new B.PrematureCommit("Transaction committed too early. See http://bit.ly/2kdckMn"))):v.then(()=>x)).then(S=>(r&&f._resolve(),f._completion.then(()=>S))).catch(S=>(f._reject(S),be(S)))})}function Yn(t,e,n){const r=de(t)?t.slice():[t];for(let i=0;i<n;++i)r.push(e);return r}const Dr={stack:"dbcore",name:"VirtualIndexMiddleware",level:1,create:function(t){return{...t,table(e){const n=t.table(e),{schema:r}=n,i={},a=[];function f(v,S,_){const C=$n(v),Z=i[C]=i[C]||[],K=null==v?0:"string"==typeof v?1:v.length,V=S>0,j={..._,isVirtual:V,keyTail:S,keyLength:K,extractKey:Qn(v),unique:!V&&_.unique};return Z.push(j),j.isPrimaryKey||a.push(j),K>1&&f(2===K?v[0]:v.slice(0,K-1),S+1,_),Z.sort((k,X)=>k.keyTail-X.keyTail),j}const g=f(r.primaryKey.keyPath,0,r.primaryKey);i[":id"]=[g];for(const v of r.indexes)f(v.keyPath,0,v);function m(v){const S=v.query.index;return S.isVirtual?{...v,query:{index:S,range:(_=v.query.range,C=S.keyTail,{type:1===_.type?2:_.type,lower:Yn(_.lower,_.lowerOpen?t.MAX_KEY:t.MIN_KEY,C),lowerOpen:!0,upper:Yn(_.upper,_.upperOpen?t.MIN_KEY:t.MAX_KEY,C),upperOpen:!0})}}:v;var _,C}return{...n,schema:{...r,primaryKey:g,indexes:a,getIndexByKeyPath:function(v){const S=i[$n(v)];return S&&S[0]}},count:v=>n.count(m(v)),query:v=>n.query(m(v)),openCursor(v){const{keyTail:S,isVirtual:_,keyLength:C}=v.query.index;return _?n.openCursor(m(v)).then(Z=>{return Z&&(K=Z,Object.create(K,{continue:{value:function(j){null!=j?K.continue(Yn(j,v.reverse?t.MAX_KEY:t.MIN_KEY,S)):v.unique?K.continue(K.key.slice(0,C).concat(v.reverse?t.MIN_KEY:t.MAX_KEY,S)):K.continue()}},continuePrimaryKey:{value(j,k){K.continuePrimaryKey(Yn(j,t.MAX_KEY,S),k)}},primaryKey:{get:()=>K.primaryKey},key:{get(){const j=K.key;return 1===C?j[0]:j.slice(0,C)}},value:{get:()=>K.value}}));var K}):n.openCursor(v)}}}}}};function cr(t,e,n,r){return n=n||{},r=r||"",ee(t).forEach(i=>{if(He(e,i)){var a=t[i],f=e[i];if("object"==typeof a&&"object"==typeof f&&a&&f){const g=En(a);g!==En(f)?n[r+i]=e[i]:"Object"===g?cr(a,f,n,r+i+"."):a!==f&&(n[r+i]=e[i])}else a!==f&&(n[r+i]=e[i])}else n[r+i]=void 0}),ee(e).forEach(i=>{He(t,i)||(n[r+i]=e[i])}),n}const Lr={stack:"dbcore",name:"HooksMiddleware",level:2,create:t=>({...t,table(e){const n=t.table(e),{primaryKey:r}=n.schema;return{...n,mutate(a){const f=U.trans,{deleting:g,creating:m,updating:x}=f.table(e).hook;switch(a.type){case"add":if(m.fire===Pe)break;return f._promise("readwrite",()=>v(a),!0);case"put":if(m.fire===Pe&&x.fire===Pe)break;return f._promise("readwrite",()=>v(a),!0);case"delete":if(g.fire===Pe)break;return f._promise("readwrite",()=>v(a),!0);case"deleteRange":if(g.fire===Pe)break;return f._promise("readwrite",()=>{return S((_=a).trans,_.range,1e4);var _},!0)}return n.mutate(a);function v(_){const C=U.trans,Z=_.keys||("delete"===(V=_).type?V.keys:V.keys||V.values.map(r.extractKey));var V;if(!Z)throw new Error("Keys missing");return"delete"!==(_="add"===_.type||"put"===_.type?{..._,keys:Z}:{..._}).type&&(_.values=[..._.values]),_.keys&&(_.keys=[..._.keys]),function(K,V,j){return"add"===V.type?Promise.resolve([]):K.getMany({trans:V.trans,keys:j,cache:"immutable"})}(n,_,Z).then(K=>{const V=Z.map((j,k)=>{const X=K[k],oe={onerror:null,onsuccess:null};if("delete"===_.type)g.fire.call(oe,j,X,C);else if("add"===_.type||void 0===X){const se=m.fire.call(oe,j,_.values[k],C);null==j&&null!=se&&(_.keys[k]=j=se,r.outbound||$e(_.values[k],r.keyPath,j))}else{const se=cr(X,_.values[k]),ie=x.fire.call(oe,se,j,X,C);if(ie){const H=_.values[k];Object.keys(ie).forEach(qe=>{He(H,qe)?H[qe]=ie[qe]:$e(H,qe,ie[qe])})}}return oe});return n.mutate(_).then(({failures:j,results:k,numFailures:X,lastResult:oe})=>{for(let se=0;se<Z.length;++se){const ie=k?k[se]:Z[se],H=V[se];null==ie?H.onerror&&H.onerror(j[se]):H.onsuccess&&H.onsuccess("put"===_.type&&K[se]?_.values[se]:ie)}return{failures:j,results:k,numFailures:X,lastResult:oe}}).catch(j=>(V.forEach(k=>k.onerror&&k.onerror(j)),Promise.reject(j)))})}function S(_,C,Z){return n.query({trans:_,values:!1,query:{index:r,range:C},limit:Z}).then(({result:K})=>v({type:"delete",keys:K,trans:_}).then(V=>V.numFailures>0?Promise.reject(V.failures[0]):K.length<Z?{failures:[],numFailures:0,lastResult:void 0}:S(_,{...C,lower:K[K.length-1],lowerOpen:!0},Z)))}}}}})};function _r(t,e,n){try{if(!e||e.keys.length<t.length)return null;const r=[];for(let i=0,a=0;i<e.keys.length&&a<t.length;++i)0===_t(e.keys[i],t[a])&&(r.push(n?pn(e.values[i]):e.values[i]),++a);return r.length===t.length?r:null}catch{return null}}const Ur={stack:"dbcore",level:-1,create:t=>({table:e=>{const n=t.table(e);return{...n,getMany:r=>{if(!r.cache)return n.getMany(r);const i=_r(r.keys,r.trans._cache,"clone"===r.cache);return i?b.resolve(i):n.getMany(r).then(a=>(r.trans._cache={keys:r.keys,values:"clone"===r.cache?pn(a):a},a))},mutate:r=>("add"!==r.type&&(r.trans._cache=null),n.mutate(r))}}})};function lr(t){return!("from"in t)}const wn=function(t,e){if(!this){const n=new wn;return t&&"d"in t&&ce(n,t),n}ce(this,arguments.length?{d:1,from:t,to:arguments.length>1?e:t}:{d:0})};function Zn(t,e,n){const r=_t(e,n);if(isNaN(r))return;if(r>0)throw RangeError();if(lr(t))return ce(t,{from:e,to:n,d:1});const i=t.l,a=t.r;if(_t(n,t.from)<0)return i?Zn(i,e,n):t.l={from:e,to:n,d:1,l:null,r:null},Er(t);if(_t(e,t.to)>0)return a?Zn(a,e,n):t.r={from:e,to:n,d:1,l:null,r:null},Er(t);_t(e,t.from)<0&&(t.from=e,t.l=null,t.d=a?a.d+1:1),_t(n,t.to)>0&&(t.to=n,t.r=null,t.d=t.l?t.l.d+1:1);const f=!t.r;i&&!t.l&&Jn(t,i),a&&f&&Jn(t,a)}function Jn(t,e){lr(e)||function n(r,{from:i,to:a,l:f,r:g}){Zn(r,i,a),f&&n(r,f),g&&n(r,g)}(t,e)}function fr(t){let e=lr(t)?null:{s:0,n:t};return{next(n){const r=arguments.length>0;for(;e;)switch(e.s){case 0:if(e.s=1,r)for(;e.n.l&&_t(n,e.n.from)<0;)e={up:e,n:e.n.l,s:1};else for(;e.n.l;)e={up:e,n:e.n.l,s:1};case 1:if(e.s=2,!r||_t(n,e.n.to)<=0)return{value:e.n,done:!1};case 2:if(e.n.r){e.s=3,e={up:e,n:e.n.r,s:0};continue}case 3:e=e.up}return{done:!0}}}}function Er(t){var e,n;const r=((null===(e=t.r)||void 0===e?void 0:e.d)||0)-((null===(n=t.l)||void 0===n?void 0:n.d)||0),i=r>1?"r":r<-1?"l":"";if(i){const a="r"===i?"l":"r",f={...t},g=t[i];t.from=g.from,t.to=g.to,t[i]=g[i],f[i]=g[a],t[a]=f,f.d=Ar(f)}t.d=Ar(t)}function Ar({r:t,l:e}){return(t?e?Math.max(t.d,e.d):t.d:e?e.d:0)+1}Et(wn.prototype,{add(t){return Jn(this,t),this},addKey(t){return Zn(this,t,t),this},addKeys(t){return t.forEach(e=>Zn(this,e,e)),this},[bn](){return fr(this)}});const $r={stack:"dbcore",level:0,create:t=>{const e=t.schema.name,n=new wn(t.MIN_KEY,t.MAX_KEY);return{...t,table:r=>{const i=t.table(r),{schema:a}=i,{primaryKey:f}=a,{extractKey:g,outbound:m}=f,x={...i,mutate:_=>{const C=_.trans,Z=C.mutatedParts||(C.mutatedParts={}),K=ie=>{const H=`idb://${e}/${r}/${ie}`;return Z[H]||(Z[H]=new wn)},V=K(""),j=K(":dels"),{type:k}=_;let[X,oe]="deleteRange"===_.type?[_.range]:"delete"===_.type?[_.keys]:_.values.length<50?[[],_.values]:[];const se=_.trans._cache;return i.mutate(_).then(ie=>{if(de(X)){"delete"!==k&&(X=ie.results),V.addKeys(X);const H=_r(X,se);H||"add"===k||j.addKeys(X),(H||oe)&&(qe=K,It=H,ht=oe,a.indexes.forEach(function un(on){const kt=qe(on.name||"");function Fn(cn){return null!=cn?on.extractKey(cn):null}const Dn=cn=>on.multiEntry&&de(cn)?cn.forEach(Bn=>kt.addKey(Bn)):kt.addKey(cn);(It||ht).forEach((cn,Bn)=>{const Vn=It&&Fn(It[Bn]),dr=ht&&Fn(ht[Bn]);0!==_t(Vn,dr)&&(null!=Vn&&Dn(Vn),null!=dr&&Dn(dr))})}))}else if(X){const H={from:X.lower,to:X.upper};j.add(H),V.add(H)}else V.add(n),j.add(n),a.indexes.forEach(H=>K(H.name).add(n));var qe,It,ht;return ie})}},v=({query:{index:_,range:C}})=>{var Z,K;return[_,new wn(null!==(Z=C.lower)&&void 0!==Z?Z:t.MIN_KEY,null!==(K=C.upper)&&void 0!==K?K:t.MAX_KEY)]},S={get:_=>[f,new wn(_.key)],getMany:_=>[f,(new wn).addKeys(_.keys)],count:v,query:v,openCursor:v};return ee(S).forEach(_=>{x[_]=function(C){const{subscr:Z}=U;if(Z){const K=oe=>{const se=`idb://${e}/${r}/${oe}`;return Z[se]||(Z[se]=new wn)},V=K(""),j=K(":dels"),[k,X]=S[_](C);if(K(k.name||"").add(X),!k.isPrimaryKey){if("count"!==_){const oe="query"===_&&m&&C.values&&i.query({...C,values:!1});return i[_].apply(this,arguments).then(se=>{if("query"===_){if(m&&C.values)return oe.then(({result:H})=>(V.addKeys(H),se));const ie=C.values?se.result.map(g):se.result;C.values?V.addKeys(ie):j.addKeys(ie)}else if("openCursor"===_){const ie=se,H=C.values;return ie&&Object.create(ie,{key:{get:()=>(j.addKey(ie.primaryKey),ie.key)},primaryKey:{get(){const qe=ie.primaryKey;return j.addKey(qe),qe}},value:{get:()=>(H&&V.addKey(ie.primaryKey),ie.value)}})}return se})}j.add(n)}}return i[_].apply(this,arguments)}}),x}}}};class kn{constructor(e,n){this._middlewares={},this.verno=0;const r=kn.dependencies;this._options=n={addons:kn.addons,autoOpen:!0,indexedDB:r.indexedDB,IDBKeyRange:r.IDBKeyRange,...n},this._deps={indexedDB:n.indexedDB,IDBKeyRange:n.IDBKeyRange};const{addons:i}=n;this._dbSchema={},this._versions=[],this._storeNames=[],this._allTables={},this.idbdb=null,this._novip=this;const a={dbOpenError:null,isBeingOpened:!1,onReadyBeingFired:null,openComplete:!1,dbReadyResolve:Pe,dbReadyPromise:null,cancelOpen:Pe,openCanceller:null,autoSchema:!0,PR1398_maxLoop:3};var f,g;a.dbReadyPromise=new b(g=>{a.dbReadyResolve=g}),a.openCanceller=new b((g,m)=>{a.cancelOpen=m}),this._state=a,this.name=e,this.on=jt(this,"populate","blocked","versionchange","close",{ready:[xe,Pe]}),this.on.ready.subscribe=Lt(this.on.ready.subscribe,g=>(m,x)=>{kn.vip(()=>{const v=this._state;if(v.openComplete)v.dbOpenError||b.resolve().then(m),x&&g(m);else if(v.onReadyBeingFired)v.onReadyBeingFired.push(m),x&&g(m);else{g(m);const S=this;x||g(function _(){S.on.ready.unsubscribe(m),S.on.ready.unsubscribe(_)})}})}),this.Collection=(f=this,Qt(Sr.prototype,function(g,m){this.db=f;let x=sn,v=null;if(m)try{x=m()}catch(Z){v=Z}const S=g._ctx,_=S.table,C=_.hook.reading.fire;this._ctx={table:_,index:S.index,isPrimKey:!S.index||_.schema.primKey.keyPath&&S.index===_.schema.primKey.name,range:x,keysOnly:!1,dir:"next",unique:"",algorithm:null,filter:null,replayFilter:null,justLimit:!0,isMatch:null,offset:0,limit:1/0,error:v,or:S.or,valueMapper:C!==Ne?C:null}})),this.Table=(g=this,Qt(an.prototype,function(m,x,v){this.db=g,this._tx=v,this.name=m,this.schema=x,this.hook=g._allTables[m]?g._allTables[m].hook:jt(null,{creating:[Ut,Pe],reading:[Ce,Ne],updating:[ue,Pe],deleting:[Pt,Pe]})})),this.Transaction=function(g){return Qt(Tr.prototype,function(m,x,v,S,_){this.db=g,this.mode=m,this.storeNames=x,this.schema=v,this.chromeTransactionDurability=S,this.idbtrans=null,this.on=jt(this,"complete","error","abort"),this.parent=_||null,this.active=!0,this._reculock=0,this._blockedFuncs=[],this._resolve=null,this._reject=null,this._waitingFor=null,this._waitingQueue=null,this._spinCount=0,this._completion=new b((C,Z)=>{this._resolve=C,this._reject=Z}),this._completion.then(()=>{this.active=!1,this.on.complete.fire()},C=>{var Z=this.active;return this.active=!1,this.on.error.fire(C),this.parent?this.parent._reject(C):Z&&this.idbtrans&&this.idbtrans.abort(),be(C)})})}(this),this.Version=function(g){return Qt(jr.prototype,function(m){this.db=g,this._cfg={version:m,storesSource:null,dbschema:{},tables:{},contentUpgrade:null}})}(this),this.WhereClause=function(g){return Qt(yr.prototype,function(m,x,v){this.db=g,this._ctx={table:m,index:":id"===x?null:x,or:v};const S=g._deps.indexedDB;if(!S)throw new B.MissingAPI;this._cmp=this._ascending=S.cmp.bind(S),this._descending=(_,C)=>S.cmp(C,_),this._max=(_,C)=>S.cmp(_,C)>0?_:C,this._min=(_,C)=>S.cmp(_,C)<0?_:C,this._IDBKeyRange=g._deps.IDBKeyRange})}(this),this.on("versionchange",g=>{g.newVersion>0?console.warn(`Another connection wants to upgrade database '${this.name}'. Closing db now to resume the upgrade.`):console.warn(`Another connection wants to delete database '${this.name}'. Closing db now to resume the delete request.`),this.close()}),this.on("blocked",g=>{!g.newVersion||g.newVersion<g.oldVersion?console.warn(`Dexie.delete('${this.name}') was blocked`):console.warn(`Upgrade '${this.name}' blocked by other connection holding version ${g.oldVersion/10}`)}),this._maxKey=Mn(n.IDBKeyRange),this._createTransaction=(g,m,x,v)=>new this.Transaction(g,m,x,this._options.chromeTransactionDurability,v),this._fireOnBlocked=g=>{this.on("blocked").fire(g),ye.filter(m=>m.name===this.name&&m!==this&&!m._state.vcFired).map(m=>m.on("versionchange").fire(g))},this.use(Dr),this.use(Lr),this.use($r),this.use(Ur),this.vip=Object.create(this,{_vip:{value:!0}}),i.forEach(g=>g(this))}version(e){if(isNaN(e)||e<.1)throw new B.Type("Given version is not a positive number");if(e=Math.round(10*e)/10,this.idbdb||this._state.isBeingOpened)throw new B.Schema("Cannot add version when database is open");this.verno=Math.max(this.verno,e);const n=this._versions;var r=n.filter(i=>i._cfg.version===e)[0];return r||(r=new this.Version(e),n.push(r),n.sort(Cr),r.stores({}),this._state.autoSchema=!1,r)}_whenReady(e){return this.idbdb&&(this._state.openComplete||U.letThrough||this._vip)?e():new b((n,r)=>{if(this._state.openComplete)return r(new B.DatabaseClosed(this._state.dbOpenError));if(!this._state.isBeingOpened){if(!this._options.autoOpen)return void r(new B.DatabaseClosed);this.open().catch(Pe)}this._state.dbReadyPromise.then(n,r)}).then(e)}use({stack:e,create:n,level:r,name:i}){i&&this.unuse({stack:e,name:i});const a=this._middlewares[e]||(this._middlewares[e]=[]);return a.push({stack:e,create:n,level:r??10,name:i}),a.sort((f,g)=>f.level-g.level),this}unuse({stack:e,name:n,create:r}){return e&&this._middlewares[e]&&(this._middlewares[e]=this._middlewares[e].filter(i=>r?i.create!==r:!!n&&i.name!==n)),this}open(){return function Kr(t){const e=t._state,{indexedDB:n}=t._deps;if(e.isBeingOpened||t.idbdb)return e.dbReadyPromise.then(()=>e.dbOpenError?be(e.dbOpenError):t);M&&(e.openCanceller._stackHolder=ot()),e.isBeingOpened=!0,e.dbOpenError=null,e.openComplete=!1;const r=e.openCanceller;function i(){if(e.openCanceller!==r)throw new B.DatabaseClosed("db.open() was cancelled")}let a=e.dbReadyResolve,f=null,g=!1;const m=()=>new b((x,v)=>{if(i(),!n)throw new B.MissingAPI;const S=t.name,_=e.autoSchema?n.open(S):n.open(S,Math.round(10*t.verno));if(!_)throw new B.MissingAPI;_.onerror=vn(v),_.onblocked=Ze(t._fireOnBlocked),_.onupgradeneeded=Ze(C=>{if(f=_.transaction,e.autoSchema&&!t._options.allowEmptyDB){_.onerror=Ln,f.abort(),_.result.close();const K=n.deleteDatabase(S);K.onsuccess=K.onerror=Ze(()=>{v(new B.NoSuchDatabase(`Database ${S} doesnt exist`))})}else{f.onerror=vn(v);var Z=C.oldVersion>Math.pow(2,62)?0:C.oldVersion;g=Z<1,t._novip.idbdb=_.result,function Br(t,e,n,r){const i=t._dbSchema,a=t._createTransaction("readwrite",t._storeNames,i);a.create(n),a._completion.catch(r);const f=a._reject.bind(a),g=U.transless||U;c(()=>{U.trans=a,U.transless=g,0===e?(ee(i).forEach(m=>{tr(n,m,i[m].primKey,i[m].indexes)}),Xn(t,n),b.follow(()=>t.on.populate.fire(a)).catch(f)):function({_novip:m},x,v,S){const _=[],C=m._versions;let Z=m._dbSchema=rr(0,m.idbdb,S),K=!1;return C.filter(k=>k._cfg.version>=x).forEach(k=>{_.push(()=>{const X=Z,oe=k._cfg.dbschema;ir(m,X,S),ir(m,oe,S),Z=m._dbSchema=oe;const se=br(X,oe);se.add.forEach(H=>{tr(S,H[0],H[1].primKey,H[1].indexes)}),se.change.forEach(H=>{if(H.recreate)throw new B.Upgrade("Not yet support for changing primary key");{const qe=S.objectStore(H.name);H.add.forEach(te=>nr(qe,te)),H.change.forEach(te=>{qe.deleteIndex(te.name),nr(qe,te)}),H.del.forEach(te=>qe.deleteIndex(te))}});const ie=k._cfg.contentUpgrade;if(ie&&k._cfg.version>x){Xn(m,S),v._memoizedTables={},K=!0;let H=ne(oe);se.del.forEach(ht=>{H[ht]=X[ht]}),er(m,[m.Transaction.prototype]),Gn(m,[m.Transaction.prototype],ee(H),H),v.schema=H;const qe=L(ie);let te;qe&&o();const It=b.follow(()=>{if(te=ie(v),te&&qe){var ht=u.bind(null,null);te.then(ht,ht)}});return te&&"function"==typeof te.then?b.resolve(te):It.then(()=>te)}}),_.push(X=>{var oe,se;(!K||!Se)&&(oe=k._cfg.dbschema,[].slice.call((se=X).db.objectStoreNames).forEach(ie=>null==oe[ie]&&se.db.deleteObjectStore(ie))),er(m,[m.Transaction.prototype]),Gn(m,[m.Transaction.prototype],m._storeNames,m._dbSchema),v.schema=m._dbSchema})}),function j(){return _.length?b.resolve(_.shift()(v.idbtrans)).then(j):b.resolve()}().then(()=>{var k,X;X=S,ee(k=Z).forEach(oe=>{X.db.objectStoreNames.contains(oe)||tr(X,oe,k[oe].primKey,k[oe].indexes)})})}(t,e,a,n).catch(f)})}(t,Z/10,f,v)}},v),_.onsuccess=Ze(()=>{f=null;const C=t._novip.idbdb=_.result,Z=Qe(C.objectStoreNames);if(Z.length>0)try{const V=C.transaction(1===(K=Z).length?K[0]:K,"readonly");e.autoSchema?function({_novip:j},k,X){j.verno=k.version/10;const oe=j._dbSchema=rr(0,k,X);j._storeNames=Qe(k.objectStoreNames,0),Gn(j,[j._allTables],ee(oe),oe)}(t,C,V):(ir(t,t._dbSchema,V),function(j,k){const X=br(rr(0,j.idbdb,k),j._dbSchema);return!(X.add.length||X.change.some(oe=>oe.add.length||oe.change.length))}(t,V)||console.warn("Dexie SchemaDiff: Schema was extended without increasing the number passed to db.version(). Some queries may fail.")),Xn(t,V)}catch{}var K;ye.push(t),C.onversionchange=Ze(V=>{e.vcFired=!0,t.on("versionchange").fire(V)}),C.onclose=Ze(V=>{t.on("close").fire(V)}),g&&function({indexedDB:V,IDBKeyRange:j},k){!sr(V)&&k!==vt&&or(V,j).put({name:k}).catch(Pe)}(t._deps,S),x()},v)}).catch(x=>x&&"UnknownError"===x.name&&e.PR1398_maxLoop>0?(e.PR1398_maxLoop--,console.warn("Dexie: Workaround for Chrome UnknownError on open()"),m()):b.reject(x));return b.race([r,(typeof navigator>"u"?b.resolve():Rr()).then(m)]).then(()=>(i(),e.onReadyBeingFired=[],b.resolve(ar(()=>t.on.ready.fire(t.vip))).then(function x(){if(e.onReadyBeingFired.length>0){let v=e.onReadyBeingFired.reduce(xe,Pe);return e.onReadyBeingFired=[],b.resolve(ar(()=>v(t.vip))).then(x)}}))).finally(()=>{e.onReadyBeingFired=null,e.isBeingOpened=!1}).then(()=>t).catch(x=>{e.dbOpenError=x;try{f&&f.abort()}catch{}return r===e.openCanceller&&t._close(),be(x)}).finally(()=>{e.openComplete=!0,a()})}(this)}_close(){const e=this._state,n=ye.indexOf(this);if(n>=0&&ye.splice(n,1),this.idbdb){try{this.idbdb.close()}catch{}this._novip.idbdb=null}e.dbReadyPromise=new b(r=>{e.dbReadyResolve=r}),e.openCanceller=new b((r,i)=>{e.cancelOpen=i})}close(){this._close();const e=this._state;this._options.autoOpen=!1,e.dbOpenError=new B.DatabaseClosed,e.isBeingOpened&&e.cancelOpen(e.dbOpenError)}delete(){const e=arguments.length>0,n=this._state;return new b((r,i)=>{const a=()=>{this.close();var f=this._deps.indexedDB.deleteDatabase(this.name);f.onsuccess=Ze(()=>{(function({indexedDB:g,IDBKeyRange:m},x){!sr(g)&&x!==vt&&or(g,m).delete(x).catch(Pe)})(this._deps,this.name),r()}),f.onerror=vn(i),f.onblocked=this._fireOnBlocked};if(e)throw new B.InvalidArgument("Arguments not allowed in db.delete()");n.isBeingOpened?n.dbReadyPromise.then(a):a()})}backendDB(){return this.idbdb}isOpen(){return null!==this.idbdb}hasBeenClosed(){const e=this._state.dbOpenError;return e&&"DatabaseClosed"===e.name}hasFailed(){return null!==this._state.dbOpenError}dynamicallyOpened(){return this._state.autoSchema}get tables(){return ee(this._allTables).map(e=>this._allTables[e])}transaction(){const e=Fr.apply(this,arguments);return this._transaction.apply(this,e)}_transaction(e,n,r){let i=U.trans;i&&i.db===this&&-1===e.indexOf("!")||(i=null);const a=-1!==e.indexOf("?");let f,g;e=e.replace("!","").replace("?","");try{if(g=n.map(x=>{var v=x instanceof this.Table?x.name:x;if("string"!=typeof v)throw new TypeError("Invalid table argument to Dexie.transaction(). Only Table or String are allowed");return v}),"r"==e||e===qt)f=qt;else{if("rw"!=e&&e!=rn)throw new B.InvalidArgument("Invalid transaction mode: "+e);f=rn}if(i){if(i.mode===qt&&f===rn){if(!a)throw new B.SubTransaction("Cannot enter a sub-transaction with READWRITE mode when parent transaction is READONLY");i=null}i&&g.forEach(x=>{if(i&&-1===i.storeNames.indexOf(x)){if(!a)throw new B.SubTransaction("Table "+x+" not included in parent transaction.");i=null}}),a&&i&&!i.active&&(i=null)}}catch(x){return i?i._promise(null,(v,S)=>{S(x)}):be(x)}const m=wr.bind(null,this,f,g,i,r);return i?i._promise(f,m,"lock"):U.trans?Q(U.transless,()=>this._whenReady(m)):this._whenReady(m)}table(e){if(!He(this._allTables,e))throw new B.InvalidTable(`Table ${e} does not exist`);return this._allTables[e]}}const Zr=typeof Symbol<"u"&&"observable"in Symbol?Symbol.observable:"@@observable";class Vr{constructor(e){this._subscribe=e}subscribe(e,n,r){return this._subscribe(e&&"function"!=typeof e?e:{next:e,error:n,complete:r})}[Zr](){return this}}function xr(t,e){return ee(e).forEach(n=>{Jn(t[n]||(t[n]=new wn),e[n])}),t}let hr;try{hr={indexedDB:N.indexedDB||N.mozIndexedDB||N.webkitIndexedDB||N.msIndexedDB,IDBKeyRange:N.IDBKeyRange||N.webkitIDBKeyRange}}catch{hr={indexedDB:null,IDBKeyRange:null}}const Cn=kn;function Wn(t){let e=_n;try{_n=!0,Pn.storagemutated.fire(t)}finally{_n=e}}Et(Cn,{...mt,delete:t=>new Cn(t,{addons:[]}).delete(),exists:t=>new Cn(t,{addons:[]}).open().then(e=>(e.close(),!0)).catch("NoSuchDatabaseError",()=>!1),getDatabaseNames(t){try{return function({indexedDB:e,IDBKeyRange:n}){return sr(e)?Promise.resolve(e.databases()).then(r=>r.map(i=>i.name).filter(i=>i!==vt)):or(e,n).toCollection().primaryKeys()}(Cn.dependencies).then(t)}catch{return be(new B.MissingAPI)}},defineClass:()=>function(t){ce(this,t)},ignoreTransaction:t=>U.trans?Q(U.transless,t):t(),vip:ar,async:function(t){return function(){try{var e=ur(t.apply(this,arguments));return e&&"function"==typeof e.then?e:b.resolve(e)}catch(n){return be(n)}}},spawn:function(t,e,n){try{var r=ur(t.apply(n,e||[]));return r&&"function"==typeof r.then?r:b.resolve(r)}catch(i){return be(i)}},currentTransaction:{get:()=>U.trans||null},waitFor:function(t,e){const n=b.resolve("function"==typeof t?Cn.ignoreTransaction(t):t).timeout(e||6e4);return U.trans?U.trans.waitFor(n):n},Promise:b,debug:{get:()=>M,set:t=>{we(t,"dexie"===t?()=>!0:nn)}},derive:wt,extend:ce,props:Et,override:Lt,Events:jt,on:Pn,liveQuery:function qr(t){let e,n=!1;const r=new Vr(i=>{const a=L(t);let f=!1,g={},m={};const x={get closed(){return f},unsubscribe:()=>{f=!0,Pn.storagemutated.unsubscribe(C)}};i.start&&i.start(x);let v=!1,S=!1;function _(){return ee(m).some(K=>g[K]&&function Mr(t,e){const n=fr(e);let r=n.next();if(r.done)return!1;let i=r.value;const a=fr(t);let f=a.next(i.from),g=f.value;for(;!r.done&&!f.done;){if(_t(g.from,i.to)<=0&&_t(g.to,i.from)>=0)return!0;_t(i.from,g.from)<0?i=(r=n.next(g.from)).value:g=(f=a.next(i.from)).value}return!1}(g[K],m[K]))}const C=K=>{xr(g,K),_()&&Z()},Z=()=>{if(v||f)return;g={};const K={},V=function(j){a&&o();const k=()=>c(t,{subscr:j,trans:null}),X=U.trans?Q(U.transless,k):k();return a&&X.then(u,u),X}(K);S||(Pn(Un,C),S=!0),v=!0,Promise.resolve(V).then(j=>{n=!0,e=j,v=!1,f||(_()?Z():(g={},m=K,i.next&&i.next(j)))},j=>{v=!1,n=!1,i.error&&i.error(j),x.unsubscribe()})};return Z(),x});return r.hasValue=()=>n,r.getValue=()=>e,r},extendObservabilitySet:xr,getByKeyPath:Rt,setByKeyPath:$e,delByKeyPath:function(t,e){"string"==typeof e?$e(t,e,void 0):"length"in e&&[].map.call(e,function(n){$e(t,n,void 0)})},shallowClone:ne,deepClone:pn,getObjectDiff:cr,cmp:_t,asap:Nt,minKey:Bt,addons:[],connections:ye,errnames:ge,dependencies:hr,semVer:"3.2.6",version:"3.2.6".split(".").map(t=>parseInt(t)).reduce((t,e,n)=>t+e/Math.pow(10,2*n))}),Cn.maxKey=Mn(Cn.dependencies.IDBKeyRange),typeof dispatchEvent<"u"&&typeof addEventListener<"u"&&(Pn(Un,t=>{if(!_n){let e;pe?(e=document.createEvent("CustomEvent"),e.initCustomEvent(On,!0,!0,t)):e=new CustomEvent(On,{detail:t}),_n=!0,dispatchEvent(e),_n=!1}}),addEventListener(On,({detail:t})=>{_n||Wn(t)}));let _n=!1;if(typeof BroadcastChannel<"u"){const t=new BroadcastChannel(On);"function"==typeof t.unref&&t.unref(),Pn(Un,e=>{_n||t.postMessage(e)}),t.onmessage=e=>{e.data&&Wn(e.data)}}else if(typeof self<"u"&&typeof navigator<"u"){Pn(Un,e=>{try{_n||(typeof localStorage<"u"&&localStorage.setItem(On,JSON.stringify({trig:Math.random(),changedParts:e})),"object"==typeof self.clients&&[...self.clients.matchAll({includeUncontrolled:!0})].forEach(n=>n.postMessage({type:On,changedParts:e})))}catch{}}),typeof addEventListener<"u"&&addEventListener("storage",e=>{if(e.key===On){const n=JSON.parse(e.newValue);n&&Wn(n.changedParts)}});const t=self.document&&navigator.serviceWorker;t&&t.addEventListener("message",function({data:e}){e&&e.type===On&&Wn(e.changedParts)})}b.rejectionMapper=function(t,e){if(!t||t instanceof p||t instanceof TypeError||t instanceof SyntaxError||!t.name||!Ae[t.name])return t;var n=new Ae[t.name](e||t.message,t);return"stack"in t&&bt(n,"stack",{get:function(){return this.inner.stack}}),n},we(M,nn)},5861:(Ge,Ue,he)=>{"use strict";function N(de,ce,_e,dt,He,Et,Ot){try{var bt=de[Et](Ot),wt=bt.value}catch(Te){return void _e(Te)}bt.done?ce(wt):Promise.resolve(wt).then(dt,He)}function ee(de){return function(){var ce=this,_e=arguments;return new Promise(function(dt,He){var Et=de.apply(ce,_e);function Ot(wt){N(Et,dt,He,Ot,bt,"next",wt)}function bt(wt){N(Et,dt,He,Ot,bt,"throw",wt)}Ot(void 0)})}}he.d(Ue,{Z:()=>ee})}}]);